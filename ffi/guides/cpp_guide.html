
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>C++ Guide &#8212; tvm-ffi</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/collapsible-lists/css/tree_view.css?v=a885cde7" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=38aa6179" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=a1637f0b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js?v=73120307"></script>
    <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js?v=660e4f45"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'guides/cpp_guide';</script>
    <link rel="icon" href="https://tvm.apache.org/images/logo/tvm-logo-square.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python Guide" href="python_guide.html" />
    <link rel="prev" title="Python Binding and Packaging" href="python_packaging.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Oct 21, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">tvm-ffi</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../get_started/quickstart.html">Quick Start</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="python_packaging.html">Python Binding and Packaging</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">C++ Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_guide.html">Python Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="rust_guide.html">Rust Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="stable_c_abi.html">Stable C ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_integration.html">Compiler Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_from_source.html">Build from Source</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../concepts/abi_overview.html">ABI Overview</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/python/index.html">Python API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Object.html">tvm_ffi.Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Tensor.html">tvm_ffi.Tensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.from_dlpack.html">tvm_ffi.from_dlpack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Shape.html">tvm_ffi.Shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.dtype.html">tvm_ffi.dtype</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Device_class.html">tvm_ffi.Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.DLDeviceType.html">tvm_ffi.DLDeviceType</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.device_function.html">tvm_ffi.device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Function.html">tvm_ffi.Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Module.html">tvm_ffi.Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.system_lib.html">tvm_ffi.system_lib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.load_module.html">tvm_ffi.load_module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Array.html">tvm_ffi.Array</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.Map.html">tvm_ffi.Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.register_error.html">tvm_ffi.register_error</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.register_object.html">tvm_ffi.register_object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.register_global_func.html">tvm_ffi.register_global_func</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.get_global_func.html">tvm_ffi.get_global_func</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.get_global_func_metadata.html">tvm_ffi.get_global_func_metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.init_ffi_api.html">tvm_ffi.init_ffi_api</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.remove_global_func.html">tvm_ffi.remove_global_func</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.StreamContext.html">tvm_ffi.StreamContext</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.use_torch_stream.html">tvm_ffi.use_torch_stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.use_raw_stream.html">tvm_ffi.use_raw_stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/cpp/generated/tvm_ffi.cpp.load_inline.html">tvm_ffi.cpp.load_inline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/cpp/generated/tvm_ffi.cpp.build_inline.html">tvm_ffi.cpp.build_inline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.serialization.html">tvm_ffi.serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.access_path.html">tvm_ffi.access_path</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.convert.html">tvm_ffi.convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/python/generated/tvm_ffi.ObjectConvertible.html">tvm_ffi.ObjectConvertible</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/cpp/index.html">C++ API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/cpp/generated/index.html">Full API Index</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/namespace_tvm.html">Namespace tvm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/namespace_tvm__ffi.html">Namespace tvm::ffi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/namespace_tvm__ffi__json.html">Namespace tvm::ffi::json</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/namespace_tvm__ffi__reflection.html">Namespace tvm::ffi::reflection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/namespace_tvm__ffi__symbol.html">Namespace tvm::ffi::symbol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1AnyEqual.html">Struct AnyEqual</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1AnyHash.html">Struct AnyHash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1DenseMapObj_1_1Block.html">Struct DenseMapObj::Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1DenseMapObj_1_1ItemType.html">Struct DenseMapObj::ItemType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1DenseMapObj_1_1ListNode.html">Struct DenseMapObj::ListNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1EnvErrorAlreadySet.html">Struct EnvErrorAlreadySet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1FallbackOnlyTraitsBase.html">Template Struct FallbackOnlyTraitsBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1is__valid__iterator.html">Template Struct is_valid_iterator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1is__valid__iterator_3_01Any_00_01IterType_01_4.html">Template Struct is_valid_iterator&lt; Any, IterType &gt;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1is__valid__iterator_3_01Optional_3_01T_01_4_00_01IterType_01_4.html">Template Struct is_valid_iterator&lt; Optional&lt; T &gt;, IterType &gt;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1ObjectPtrEqual.html">Struct ObjectPtrEqual</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1ObjectPtrHash.html">Struct ObjectPtrHash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1ObjectRefWithFallbackTraitsBase.html">Template Struct ObjectRefWithFallbackTraitsBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1reflection_1_1FieldInfoBuilder.html">Struct FieldInfoBuilder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1reflection_1_1InfoTrait.html">Struct InfoTrait</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1reflection_1_1init.html">Template Struct init</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1reflection_1_1MethodInfoBuilder.html">Struct MethodInfoBuilder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1StaticTypeKey.html">Struct StaticTypeKey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1TypeToFieldStaticTypeIndex.html">Template Struct TypeToFieldStaticTypeIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1TypeToRuntimeTypeIndex.html">Template Struct TypeToRuntimeTypeIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structtvm_1_1ffi_1_1UnsafeInit.html">Struct UnsafeInit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIAny.html">Struct TVMFFIAny</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIByteArray.html">Struct TVMFFIByteArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIErrorCell.html">Struct TVMFFIErrorCell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIFieldInfo.html">Struct TVMFFIFieldInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIFunctionCell.html">Struct TVMFFIFunctionCell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIMethodInfo.html">Struct TVMFFIMethodInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIObject.html">Struct TVMFFIObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIOpaqueObjectCell.html">Struct TVMFFIOpaqueObjectCell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIShapeCell.html">Struct TVMFFIShapeCell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFITypeAttrColumn.html">Struct TVMFFITypeAttrColumn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFITypeInfo.html">Struct TVMFFITypeInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFITypeMetadata.html">Struct TVMFFITypeMetadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/structTVMFFIVersion.html">Struct TVMFFIVersion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Any.html">Class Any</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1AnyView.html">Class AnyView</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Array.html">Template Class Array</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1ArrayObj.html">Class ArrayObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Bytes.html">Class Bytes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1DenseMapObj.html">Class DenseMapObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Error.html">Class Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1ErrorObj.html">Class ErrorObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Function.html">Class Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1FunctionObj.html">Class FunctionObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Map.html">Template Class Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1MapObj.html">Class MapObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Module.html">Class Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1ModuleObj.html">Class ModuleObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Object.html">Class Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1ObjectPtr.html">Template Class ObjectPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1ObjectRef.html">Class ObjectRef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Optional.html">Template Class Optional</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1PackedArgs.html">Class PackedArgs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1AccessPath.html">Class AccessPath</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1AccessPathObj.html">Class AccessPathObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1AccessStep.html">Class AccessStep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1AccessStepObj.html">Class AccessStepObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1AttachFieldFlag.html">Class AttachFieldFlag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1DefaultValue.html">Class DefaultValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1FieldGetter.html">Class FieldGetter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1FieldSetter.html">Class FieldSetter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1GlobalDef.html">Class GlobalDef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1Metadata.html">Class Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1ObjectCreator.html">Class ObjectCreator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1ObjectDef.html">Template Class ObjectDef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1TypeAttrColumn.html">Class TypeAttrColumn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1reflection_1_1TypeAttrDef.html">Template Class TypeAttrDef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1RValueRef.html">Template Class RValueRef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Shape.html">Class Shape</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1ShapeObj.html">Class ShapeObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1ShapeView.html">Class ShapeView</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1SmallMapObj.html">Class SmallMapObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1StrictBool.html">Class StrictBool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1String.html">Class String</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1StructuralEqual.html">Class StructuralEqual</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1StructuralHash.html">Class StructuralHash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Tensor.html">Class Tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1TensorObj.html">Class TensorObj</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1TensorView.html">Class TensorView</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Tuple.html">Template Class Tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1TypedFunction.html">Template Class TypedFunction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1TypedFunction_3_01R_07Args_8_8_8_08_4.html">Template Class TypedFunction&lt; R(Args…) &gt;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1Variant.html">Template Class Variant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/classtvm_1_1ffi_1_1WeakObjectPtr.html">Template Class WeakObjectPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/enum_dtype_8h_1a16f66b97fa44d7bd6114324c8b8e1bed.html">Enum DLExtDataTypeCode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/enum_namespacetvm_1_1ffi_1_1reflection_1a9c2cd4d683e7c7065942e36e628a2517.html">Enum AccessKind</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/enum_c__api_8h_1ad6a441d28d4a6406418489609e975a19.html">Enum TVMFFIBacktraceUpdateMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/enum_c__api_8h_1ad5a608f648c4f86cafdc8dc09f870bc5.html">Enum TVMFFIFieldFlagBitMask</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/enum_c__api_8h_1a8eb3fb55f6ec3c46b6e57740af4ca58a.html">Enum TVMFFIObjectDeleterFlagBitMask</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/enum_c__api_8h_1aea0f30bf60e26c1322e525e246ef5be9.html">Enum TVMFFISEqHashKind</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/enum_c__api_8h_1a1925bb5d568a3f5c92a6c28934c9bcc2.html">Enum TVMFFITypeIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_base64_8h_1ae1d4736f7dc56b224acd303ba7bf7a45.html">Function tvm::ffi::Base64Decode(TVMFFIByteArray)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_base64_8h_1acb849cdb1d9b9620be10bbcda0257afa.html">Function tvm::ffi::Base64Decode(const String&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_base64_8h_1aa5b2a4531449585b9f079cb170a79f0b.html">Function tvm::ffi::Base64Encode(TVMFFIByteArray)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_base64_8h_1a279b4ba2f4c7ea16291ef24b73e43963.html">Function tvm::ffi::Base64Encode(const Bytes&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_endian_8h_1ab4e0ed8000c632cd2c7cd089c0a0d1af.html">Function tvm::ffi::ByteSwap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_array_8h_1af5983fd2a31e79635307875b3a216472.html">Template Function tvm::ffi::Concat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_dtype_8h_1a94787950883e5a7e97b764ddd342afc3.html">Function tvm::ffi::DLDataTypeToString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_string_8h_1aa190eed2516ff9a633009cc62f660502.html">Function tvm::ffi::EscapeString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_serialization_8h_1a56baa5d1ca415dbdebf19ac1f54bd5b7.html">Function tvm::ffi::FromJSONGraph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_tensor_8h_1a71e4a492b5a03a19a95087771a7e9ed1.html">Function tvm::ffi::GetDataSize(size_t, DLDataType)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_tensor_8h_1a226723176642cde5996498e7da6a6368.html">Function tvm::ffi::GetDataSize(const DLTensor&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_tensor_8h_1a011d0a2dcbe5702156124d7a7223b3dd.html">Function tvm::ffi::GetDataSize(const Tensor&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_tensor_8h_1a65b3a61c540c72d9410150a3a7a76dde.html">Function tvm::ffi::GetDataSize(const TensorView&amp;)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_cast_8h_1a4dba749dd934d8a7891ad126a8fdcc1f.html">Template Function tvm::ffi::GetObjectPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_cast_8h_1a3c5fed9bb23b4804b61037c8ac4874f1.html">Template Function tvm::ffi::GetRef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_tensor_8h_1aa79cf4e1e3873d8947050b3cee41153a.html">Function tvm::ffi::IsAligned</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_tensor_8h_1a93094b6b3f20c2cd5aa1c1c2522bc3e4.html">Function tvm::ffi::IsContiguous</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_tensor_8h_1aab70a15ca1dde710bc3052c5ce1f6fbd.html">Function tvm::ffi::IsDirectAddressDevice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_json_8h_1a86217bda8bfebd85f8265878bc8a59b8.html">Function tvm::ffi::json::Parse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_json_8h_1a2cd33b0fbc0194eaa803b8a476670587.html">Function tvm::ffi::json::Stringify</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_memory_8h_1a801e8ecc2e3adbc1dac52c714e7cef11.html">Template Function tvm::ffi::make_inplace_array_object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_array_8h_1a3b56317c7cfb2760cf6c09c303840967.html">Specialized Template Function tvm::ffi::make_object()</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_memory_8h_1a8892f2a3cad8dbc51930c464f2ab863b.html">Template Function tvm::ffi::make_object(Args&amp;&amp;…)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_map_8h_1a611844db41026b7a95846dd316b435af.html">Template Function tvm::ffi::Merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_namespacetvm_1_1ffi_1_1reflection_1a735285a70c7c4308816450a5b27f03f2.html">Function tvm::ffi::reflection::EnsureTypeAttrColumn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_namespacetvm_1_1ffi_1_1reflection_1a32d91001c82e10566c69e237ab0de50a.html">Template Function tvm::ffi::reflection::ForEachFieldInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_namespacetvm_1_1ffi_1_1reflection_1acc0ded3ead1cc6ffc836005d3bb2cc9c.html">Template Function tvm::ffi::reflection::ForEachFieldInfoWithEarlyStop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_namespacetvm_1_1ffi_1_1reflection_1a6b1f837cf822ded72a31f343ce987f4c.html">Template Function tvm::ffi::reflection::GetFieldByteOffsetToObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_namespacetvm_1_1ffi_1_1reflection_1a80c4984a43d14113b20a67c966833709.html">Function tvm::ffi::reflection::GetFieldInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_namespacetvm_1_1ffi_1_1reflection_1aba4d7fd771bea88a32803dda191b7044.html">Function tvm::ffi::reflection::GetMethod</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_namespacetvm_1_1ffi_1_1reflection_1ac902a725008e348254ee7a2d07c8a95a.html">Function tvm::ffi::reflection::GetMethodInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_dtype_8h_1a8a71c64237efaa13a8d40dfacd6c3165.html">Function tvm::ffi::StringToDLDataType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_serialization_8h_1a24d1febeb5c1026e7fd66dee9dd9915f.html">Function tvm::ffi::ToJSONGraph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_string_8h_1ad045700080c053c50d68cde298b2b4b2.html">Function tvm::ffi::ToStringView</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_object_8h_1a0d6e075f219808c4ff7adebd99210a7b.html">Function tvm::ffi::TypeIndexToTypeKey</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_8h_1a111e2ed7444eb220e19c7624d0932d89.html">Function tvm::ffi::TypeKeyToIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a63149ed43a6ecffa2146f92914c0bc7b.html">Function TVMFFIAnyViewToOwnedAny</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1ac0e2d59d3a8ba7f2b32eac47b1c6fc5d.html">Function TVMFFIBacktrace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1aa2a81275b69ba0f61ce556df85517ef9.html">Function TVMFFIBytesFromByteArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a1dd5584d94f6e00a18f4cfa003dfb93a.html">Function TVMFFIBytesGetByteArrayPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a44604b1d0db208ed82cbc7cf0fd0f47c.html">Function TVMFFIDataTypeFromString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a402f64dec7a665f281e55cf946a7481b.html">Function TVMFFIDataTypeToString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a762fc5c881dc5f66066eb45b65a5781f.html">Function TVMFFIDLDeviceFromIntPair</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1a0e01ad3ed44c0240f1b76dbed7014234.html">Function TVMFFIEnvCheckSignals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1ac8f7894c4f205756b7aee01108ab8e84.html">Function TVMFFIEnvGetDLPackManagedTensorAllocator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1a8ce2ba89ca1d010a084b4c36ed6b2965.html">Function TVMFFIEnvGetStream</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1abcbbccfc02c57418e757033afce42ece.html">Function TVMFFIEnvModLookupFromImports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1a7451ab18593d70d30a6214d622e200d2.html">Function TVMFFIEnvModRegisterContextSymbol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1a9b142b59ab84bc06e4a0f66a3510e8f7.html">Function TVMFFIEnvModRegisterSystemLibSymbol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1a36c15024744584acceaf0233947f9505.html">Function TVMFFIEnvRegisterCAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1aaf8960c33546788950b8e35ac18efe39.html">Function TVMFFIEnvSetDLPackManagedTensorAllocator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1ae24b47945440d1c0aca13af13bdaf916.html">Function TVMFFIEnvSetStream</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__env__api_8h_1a683191d48d3fdebc98b68f3b717baf6a.html">Function TVMFFIEnvTensorAlloc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a3479c144d165e717d1464b7b4df84897.html">Function TVMFFIErrorCreate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a0ee6d2da9a72749561838bf503f62f93.html">Function TVMFFIErrorGetCellPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a268d0b5dc89146020c09f77fa0eb8f67.html">Function TVMFFIErrorMoveFromRaised</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1af108ca4da596c634b4cb9e82c8bec1ce.html">Function TVMFFIErrorSetRaised</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1aedd89f80f73d54dd5904d943dd0690c6.html">Function TVMFFIErrorSetRaisedFromCStr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a56ce10d1e6fc2d34a1a496bdace4af33.html">Function TVMFFIErrorSetRaisedFromCStrParts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a1ac76d88e0d79843403ce2e0239d7fe2.html">Function TVMFFIFunctionCall</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a4ce84fc667040bba425664c78b5f2c69.html">Function TVMFFIFunctionCreate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a0d3dcd6ceff356614a6924201c02cf97.html">Function TVMFFIFunctionGetCellPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a3bf47f6e1229627902c80217d674ed29.html">Function TVMFFIFunctionGetGlobal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a177d080127ef8f3e338beb7dba4c04fd.html">Function TVMFFIFunctionSetGlobal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1aa26fa16c024c6f2fa15e46aa1333fdb9.html">Function TVMFFIFunctionSetGlobalFromMethodInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a53c5ec2971806966ed96a6add32b5238.html">Function TVMFFIGetTypeAttrColumn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1afee5a803e22f9baf5ee2ff1f0ace6429.html">Function TVMFFIGetTypeInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a145f2694254410fd4814541e2cde99c1.html">Function TVMFFIGetVersion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a6415c088928d62af8749f3dc57dcf23b.html">Function TVMFFIObjectCreateOpaque</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1aba50ba2cee84b1ef7a718211ab349031.html">Function TVMFFIObjectDecRef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a31a317a32bfa641180eed1bfb3d5cf01.html">Function TVMFFIObjectGetTypeIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1ac66c1d142240be0cdf65c8ba38770eb6.html">Function TVMFFIObjectIncRef</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a3253bbf35e2ad1361b2ce1de13d2c9b2.html">Function TVMFFIOpaqueObjectGetCellPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a74c26efdd74840abc3e1581c73a38bfa.html">Function TVMFFIShapeGetCellPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a724b0d386cf3d50c7d141ca37be19092.html">Function TVMFFISmallBytesGetContentByteArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a5a7e3fe8a94e066bc1bf897fbf736651.html">Function TVMFFIStringFromByteArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1af1b8a29eb3f9405982c344f5e572dd65.html">Function TVMFFITensorFromDLPack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1adaf9a5ab3d30bb3eca58b430f2592fc0.html">Function TVMFFITensorFromDLPackVersioned</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1ab691fd5bc4442c631c1f70985a962f50.html">Function TVMFFITensorGetDLTensorPtr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1adec9f8a8f0683caeb9dd194d9a3c62d5.html">Function TVMFFITensorToDLPack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a1162f2cbaf1a7628a03ed9488cff858b.html">Function TVMFFITensorToDLPackVersioned</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a3f859b60d99c85f43fce8226c69f3c5e.html">Function TVMFFITypeGetOrAllocIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1ac64df2793c84fc8ba5d24968d60bcada.html">Function TVMFFITypeKeyToIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1ac5a4f48eacde3c69ad3154b6aa39fa3c.html">Function TVMFFITypeRegisterAttr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a1a99289a314c6c3de865721bd3efb525.html">Function TVMFFITypeRegisterField</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1aeee9dab8873b5b2f327f4dfe50f802ab.html">Function TVMFFITypeRegisterMetadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/function_c__api_8h_1a4e8b3caff4da72205ec1ac9a811748e5.html">Function TVMFFITypeRegisterMethod</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/variable_array_8h_1a3bbf4c2bf19b72b026ad9e19a23143d5.html">Variable tvm::ffi::is_valid_iterator_v</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/variable_module_8h_1aae0405c7615139afd4f68b72a862cffe.html">Variable tvm::ffi::symbol::tvm_ffi_library_bin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/variable_module_8h_1a76f8a8fd1e38fd98cc501623d959ee58.html">Variable tvm::ffi::symbol::tvm_ffi_library_ctx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/variable_module_8h_1ad9c186f1359987cef9278993037b3f66.html">Variable tvm::ffi::symbol::tvm_ffi_main</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/variable_module_8h_1a07576e172e0788da4982148edcf53b05.html">Variable tvm::ffi::symbol::tvm_ffi_metadata_prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/variable_module_8h_1ac261d9ce6ffb49dd9878610ce217075e.html">Variable tvm::ffi::symbol::tvm_ffi_symbol_prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a288653475dd42db1c715a11ab2972578.html">Define TVM_FFI_ALWAYS_LOG_BEFORE_THROW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a7205bbaef1c45e57f939af6deefb6449.html">Define TVM_FFI_BACKTRACE_ON_SEGFAULT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1ad4674e1cb9c051f47127e5331a4bcadc.html">Define TVM_FFI_CHECK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a64c939463f90816ffc2b70bc89ea3e43.html">Define TVM_FFI_CHECK_FUNC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_function_8h_1a14328d95ccda4b1691b9874645aef4bd.html">Define TVM_FFI_CHECK_SAFE_CALL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_object_8h_1a438ff7ee1fc503216d35e156081280c0.html">Define TVM_FFI_DECLARE_OBJECT_INFO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_object_8h_1ac593f4065568c8f61cf38d00d585befd.html">Define TVM_FFI_DECLARE_OBJECT_INFO_FINAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_object_8h_1a9d1c42071de0440f70c7bb5e0bd0f325.html">Define TVM_FFI_DECLARE_OBJECT_INFO_PREDEFINED_TYPE_KEY</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_object_8h_1a6ad2a76d53c8c695743f7a275c8c0523.html">Define TVM_FFI_DECLARE_OBJECT_INFO_STATIC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_object_8h_1a4ac33631a9b51877808ec7edf010f0d2.html">Define TVM_FFI_DEFINE_OBJECT_REF_METHODS_NOTNULLABLE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_object_8h_1a0fc0cc2d8f4318bc41a896c117e8a15c.html">Define TVM_FFI_DEFINE_OBJECT_REF_METHODS_NULLABLE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_function_8h_1a01777f12f8f99771331d679a0c1d2ed4.html">Define TVM_FFI_DLL_EXPORT_TYPED_FUNC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a6c01470f76c6437edf93ac668ea6242a.html">Define TVM_FFI_ICHECK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a83986fc775d68d4abcc209c2f67dde6e.html">Define TVM_FFI_ICHECK_BINARY_OP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a394ec1781a34c49e29d47db5c3dfad9c.html">Define TVM_FFI_ICHECK_EQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1ae5be195e80d32413cbe5e2ad11e146f7.html">Define TVM_FFI_ICHECK_GE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1af1f84686ce5635b3a378567368e89e4d.html">Define TVM_FFI_ICHECK_GT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1aade00b2e0a9789e3e8bf33441d651455.html">Define TVM_FFI_ICHECK_LE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a1a94c8b78e74adec05051abb9055e7b8.html">Define TVM_FFI_ICHECK_LT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1afcd5778e656fa2c20aa0b81fbcebc497.html">Define TVM_FFI_ICHECK_NE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a26827bb8bc9e39255060f6be1d2a37fb.html">Define TVM_FFI_ICHECK_NOTNULL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_endian_8h_1a2ebd9542b313b3b45b2892f2b3d4f26d.html">Define TVM_FFI_IO_NO_ENDIAN_SWAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_endian_8h_1a912dbc7a68913612c723f877acaa8105.html">Define TVM_FFI_IO_USE_LITTLE_ENDIAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a927d4ae2bbf7a08723643993e780f183.html">Define TVM_FFI_LOG_AND_THROW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_function_8h_1a10bd932564c8e71a3978a061fbb82360.html">Define TVM_FFI_SAFE_CALL_BEGIN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_function_8h_1ae3c016c4bf383aa205b4485edd7ca17c.html">Define TVM_FFI_SAFE_CALL_END</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a8df4e0ff8a6195274c6f7c031a4f0db4.html">Define TVM_FFI_THROW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_error_8h_1a386641a33bb14802830471a2442ddd7d.html">Define TVM_FFI_USE_LIBBACKTRACE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_c__api_8h_1a4241f838270253b885e1de02534bc273.html">Define TVM_FFI_VERSION_MAJOR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_c__api_8h_1a717daddad98d127813ba8ff5a715e929.html">Define TVM_FFI_VERSION_MINOR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_c__api_8h_1a42634cb2690dce4d9af6c2a402fc903c.html">Define TVM_FFI_VERSION_PATCH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/define_c__api_8h_1a01871644eed04162005df7faa5442f92.html">Define TVM_FFI_WEAK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_memory_8h_1a65bf625279df21dec5c8097264415113.html">Typedef tvm::ffi::FObjectDeleter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_json_8h_1aeb9cdccfbc28034e94e46f9f6bd8d92a.html">Typedef tvm::ffi::json::Array</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_json_8h_1a74ca72d0b686c114af683d63e96f2998.html">Typedef tvm::ffi::json::Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_json_8h_1a8e808548bb6a99d0a6093ab3e2229ad3.html">Typedef tvm::ffi::json::Value</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_namespacetvm_1_1ffi_1_1reflection_1a96513314d45b43eada132d9b96653d9a.html">Typedef tvm::ffi::reflection::_MetadataType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_namespacetvm_1_1ffi_1_1reflection_1a32b044a71a094de492867144ca299c15.html">Typedef tvm::ffi::reflection::AccessPathPair</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_object_8h_1a7ba296d84188e5970ba854332a1f04a6.html">Typedef tvm::ffi::TypeIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_object_8h_1ae125f5f5a8a94c7340577c1959805295.html">Typedef tvm::ffi::TypeInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_c__api_8h_1ae22f1a87cbaf7f744d9201948c05d2a5.html">Typedef TVMFFIFieldGetter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_c__api_8h_1aba6bf585b03799369fb535db4a5d2e79.html">Typedef TVMFFIFieldSetter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_c__api_8h_1a19fdd3c500a70abb3def842c73694548.html">Typedef TVMFFIObjectCreator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_c__api_8h_1aa0abef2444fde82d76337218e5c13b3f.html">Typedef TVMFFIObjectHandle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_c__api_8h_1a9eee5afddb1b39723847d67d109c03fe.html">Typedef TVMFFISafeCallType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cpp/generated/typedef_c__env__api_8h_1aa7abccefa41ac9d3040df689c0c72fa4.html">Typedef TVMFFIStreamHandle</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/rust/index.html">Rust API</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/apache/tvm-ffi" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/guides/cpp_guide.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>C++ Guide</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#any-and-anyview">Any and AnyView</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#object-and-objectref">Object and ObjectRef</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function">Function</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#global-function-registry">Global Function Registry</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-as-library-symbol">Exporting as Library Symbol</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling">Error Handling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tensor">Tensor</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dlpack-conversion">DLPack Conversion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#string-and-bytes">String and Bytes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#container-types">Container Types</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#array">Array</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tuple">Tuple</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#map">Map</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optional">Optional</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variant">Variant</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <!--- Licensed to the Apache Software Foundation (ASF) under one -->
<!--- or more contributor license agreements.  See the NOTICE file -->
<!--- distributed with this work for additional information -->
<!--- regarding copyright ownership.  The ASF licenses this file -->
<!--- to you under the Apache License, Version 2.0 (the -->
<!--- "License"); you may not use this file except in compliance -->
<!--- with the License.  You may obtain a copy of the License at -->
<!---   http://www.apache.org/licenses/LICENSE-2.0 -->
<!--- Unless required by applicable law or agreed to in writing, -->
<!--- software distributed under the License is distributed on an -->
<!--- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY -->
<!--- KIND, either express or implied.  See the License for the -->
<!--- specific language governing permissions and limitations -->
<!--- under the License. -->
<section class="tex2jax_ignore mathjax_ignore" id="c-guide">
<h1>C++ Guide<a class="headerlink" href="#c-guide" title="Link to this heading">#</a></h1>
<p id="cpp-guide">This guide introduces the tvm-ffi C++ API.
We provide C++ API on top of the stable C ABI to provide a type-safe and efficient way to work with the tvm-ffi.
The C++ API is designed to abstract away the complexity of the C ABI while maintaining full compatibility.
The C++ API builds around the following key concepts:</p>
<ul class="simple">
<li><p><strong>Any and AnyView</strong>: Type-erased containers that can hold values of any supported type in tvm-ffi.</p></li>
<li><p><strong>Function</strong>: A type-erased “packed” function that can be invoked like normal functions.</p></li>
<li><p><strong>Objects and ObjectRefs</strong>: Reference-counted objects to manage on-heap data types.</p></li>
</ul>
<p>Code examples in this guide use <code class="docutils literal notranslate"><span class="pre">EXPECT_EQ</span></code> for demonstration purposes, which is a testing framework macro. In actual applications, you would use standard C++ assertions or error handling.
You can find runnable code of the examples under tests/cpp/test_example.cc.</p>
<section id="any-and-anyview">
<h2>Any and AnyView<a class="headerlink" href="#any-and-anyview" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Any</span></code> and <code class="docutils literal notranslate"><span class="pre">AnyView</span></code> are the foundation of tvm-ffi, providing
ways to store values that are compatible with the ffi system.
The following example shows how we can interact with Any and AnyView.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/any.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleAny</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// Create an Any from various types</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Any</span><span class="w"> </span><span class="n">int_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Any</span><span class="w"> </span><span class="n">float_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Any</span><span class="w"> </span><span class="n">string_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello world&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// AnyView provides a lightweight view without ownership</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">AnyView</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">int_value</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// we can cast Any/AnyView to a specific type</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">extracted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">extracted</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// If we are not sure about the type</span>
<span class="w">  </span><span class="c1">// we can use as to get an optional value</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">maybe_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="n">as</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">maybe_int</span><span class="p">.</span><span class="n">has_value</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">maybe_int</span><span class="p">.</span><span class="n">value</span><span class="p">(),</span><span class="w"> </span><span class="mi">42</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// Try cast is another version that will try to run the type</span>
<span class="w">  </span><span class="c1">// conversion even if the type does not exactly match</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">maybe_int_try</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">view</span><span class="p">.</span><span class="n">try_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">maybe_int_try</span><span class="p">.</span><span class="n">has_value</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">maybe_int_try</span><span class="p">.</span><span class="n">value</span><span class="p">(),</span><span class="w"> </span><span class="mi">42</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>At a high level, we can perform the following operations:</p>
<ul class="simple">
<li><p>We can store a value into Any, under the hood, Any will record the type of the value by its type_index.</p></li>
<li><p>We can fetch a value from Any or AnyView using the <code class="docutils literal notranslate"><span class="pre">cast</span></code> function.</p></li>
<li><p>If we are unsure about the type in Any, we can use <code class="docutils literal notranslate"><span class="pre">as</span></code> or <code class="docutils literal notranslate"><span class="pre">try_cast</span></code> function to get an optional value.</p></li>
</ul>
<p>Under the hood, Any and AnyView store the value via the ABI convention and also manage the reference
counting correctly when the stored value is an on-heap object.</p>
</section>
<section id="object-and-objectref">
<h2>Object and ObjectRef<a class="headerlink" href="#object-and-objectref" title="Link to this heading">#</a></h2>
<p>The tvm-ffi object system provides the foundation for all managed, reference-counted objects
in the system. It enables type safety, cross-language compatibility, and efficient memory management.</p>
<p>The object system is built around three key classes: Object, ObjectPtr, and ObjectRef.
The <code class="docutils literal notranslate"><span class="pre">Object</span></code> class is the base class of all heap-allocated objects. It contains a common header
that includes the <code class="docutils literal notranslate"><span class="pre">type_index</span></code>, reference counter and deleter for the object.
Users do not need to explicitly manage these fields as part of the C++ API. Instead,
they are automatically managed through a smart pointer <code class="docutils literal notranslate"><span class="pre">ObjectPtr</span></code> which points
to a heap-allocated object instance.
The following code shows an example object and the creation of an <code class="docutils literal notranslate"><span class="pre">ObjectPtr</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/object.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/memory.h&gt;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyIntPairObj</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">tvm</span><span class="o">::</span><span class="n">ffi</span><span class="o">::</span><span class="n">Object</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>

<span class="w">  </span><span class="n">MyIntPairObj</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>
<span class="w">  </span><span class="n">MyIntPairObj</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="w"> </span><span class="n">b</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="w">  </span><span class="c1">// Required: declare type information</span>
<span class="w">  </span><span class="c1">// to register a dynamic type index through the system</span>
<span class="w">  </span><span class="n">TVM_FFI_DECLARE_OBJECT_INFO_FINAL</span><span class="p">(</span><span class="s">&quot;example.MyIntPair&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">MyIntPairObj</span><span class="p">,</span><span class="w"> </span><span class="n">tvm</span><span class="o">::</span><span class="n">ffi</span><span class="o">::</span><span class="n">Object</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleObjectPtr</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// make_object automatically sets up the deleter correctly</span>
<span class="w">  </span><span class="c1">// This function creates a new ObjectPtr with proper memory management</span>
<span class="w">  </span><span class="c1">// It handles allocation, initialization, and sets up the reference counting system</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">ObjectPtr</span><span class="o">&lt;</span><span class="n">MyIntPairObj</span><span class="o">&gt;</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">make_object</span><span class="o">&lt;</span><span class="n">MyIntPairObj</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">obj</span><span class="o">-&gt;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">obj</span><span class="o">-&gt;</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We typically provide a reference class that wraps the ObjectPtr.
The <code class="docutils literal notranslate"><span class="pre">ObjectRef</span></code> base class provides the interface and reference counting
functionality for these wrapper classes.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/object.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/memory.h&gt;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyIntPair</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">tvm</span><span class="o">::</span><span class="n">ffi</span><span class="o">::</span><span class="n">ObjectRef</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="c1">// Constructor</span>
<span class="w">  </span><span class="k">explicit</span><span class="w"> </span><span class="n">MyIntPair</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">data_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tvm</span><span class="o">::</span><span class="n">ffi</span><span class="o">::</span><span class="n">make_object</span><span class="o">&lt;</span><span class="n">MyIntPairObj</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Required: define object reference methods</span>
<span class="w">  </span><span class="c1">// This macro provides the necessary methods for ObjectRef functionality</span>
<span class="w">  </span><span class="n">TVM_FFI_DEFINE_OBJECT_REF_METHODS_NULLABLE</span><span class="p">(</span><span class="n">MyIntPair</span><span class="p">,</span><span class="w"> </span><span class="n">tvm</span><span class="o">::</span><span class="n">ffi</span><span class="o">::</span><span class="n">ObjectRef</span><span class="p">,</span><span class="w"> </span><span class="n">MyIntPairObj</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleObjectRef</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">MyIntPair</span><span class="w"> </span><span class="nf">pair</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">pair</span><span class="o">-&gt;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">pair</span><span class="o">-&gt;</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Note:</strong> The ObjectRef provides a user-friendly interface while ObjectPtr handles the low-level memory management.
The ObjectRef acts as a smart pointer wrapper that automatically manages the ObjectPtr lifecycle.</p>
<p>The overall implementation pattern is as follows:</p>
<ul class="simple">
<li><p><strong>Object Class</strong>: Inherits from <code class="docutils literal notranslate"><span class="pre">ffi::Object</span></code>, stores data and implements the core functionality.</p></li>
<li><p><strong>ObjectPtr</strong>: Smart pointer that manages the Object lifecycle and reference counting.</p></li>
<li><p><strong>Ref Class</strong>: Inherits from <code class="docutils literal notranslate"><span class="pre">ffi::ObjectRef</span></code>, provides a user-friendly interface and automatic memory management.</p></li>
</ul>
<p>This design ensures efficient memory management while providing a clean API for users. Once we define an ObjectRef class,
we can integrate it with the Any, AnyView and Functions.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/object.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/any.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleObjectRefAny</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">MyIntPair</span><span class="w"> </span><span class="nf">pair</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Any</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pair</span><span class="p">;</span>
<span class="w">  </span><span class="n">MyIntPair</span><span class="w"> </span><span class="n">pair2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">any</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="n">MyIntPair</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="c1">// Note: EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">pair2</span><span class="o">-&gt;</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">pair2</span><span class="o">-&gt;</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Under the hood, ObjectPtr manages the lifecycle of the object through the same mechanism as shared pointers. We designed
the object to be intrusive, which means the reference counter and type index metadata are embedded at the header of each object.
This design allows us to allocate the control block and object memory together. As we will see in future sections,
all of our heap-allocated classes such as Function, on-heap String, Array and Map are managed using subclasses of Object,
and the user-facing classes such as Function are ObjectRefs.</p>
<p>We provide a collection of built-in object and reference types, which are sufficient for common cases.
Developers can also bring new object types as shown in the example of this section. We provide mechanisms
to expose these objects to other language bindings such as Python.</p>
</section>
<section id="function">
<h2>Function<a class="headerlink" href="#function" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Function</span></code> class provides a type-safe way to create and invoke callable objects
through tvm-ffi ABI convention. We can create a <code class="docutils literal notranslate"><span class="pre">ffi::Function</span></code> from an existing typed lambda function.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/function.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleFunctionFromTyped</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// Create a function from a typed lambda</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">fadd1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="o">::</span><span class="n">FromTyped</span><span class="p">(</span>
<span class="w">    </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fadd1</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Under the hood, tvm-ffi leverages Any and AnyView to create a unified ABI for
all functions. The following example demonstrates the low-level way of defining
a “packed” function for the same <code class="docutils literal notranslate"><span class="pre">fadd1</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ExampleFunctionFromPacked</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// Create a function from a typed lambda</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">fadd1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="o">::</span><span class="n">FromPacked</span><span class="p">(</span>
<span class="w">    </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">AnyView</span><span class="o">*</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">num_args</span><span class="p">,</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Any</span><span class="o">*</span><span class="w"> </span><span class="n">rv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Check that we have exactly one argument</span>
<span class="w">      </span><span class="n">TVM_FFI_ICHECK_EQ</span><span class="p">(</span><span class="n">num_args</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">      </span><span class="o">*</span><span class="n">rv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fadd1</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>At a high level, <code class="docutils literal notranslate"><span class="pre">ffi::Function</span></code> implements function calling by the following convention:</p>
<ul class="simple">
<li><p>The arguments are passed through an on-stack array of <code class="docutils literal notranslate"><span class="pre">ffi::AnyView</span></code></p></li>
<li><p>Return values are passed through <code class="docutils literal notranslate"><span class="pre">ffi::Any</span></code></p></li>
</ul>
<p>Because the return value is <code class="docutils literal notranslate"><span class="pre">ffi::Any</span></code>, we need to explicitly call <code class="docutils literal notranslate"><span class="pre">cast</span></code> to convert the return
value to the desirable type. Importantly, <code class="docutils literal notranslate"><span class="pre">ffi::Function</span></code> itself is a value type that is compatible
with tvm-ffi, which means we can pass it as an argument and return values. The following code shows
an example of passing a function as an argument and applying it inside.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ExampleFunctionPassFunction</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// Create a function from a typed lambda</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">fapply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="o">::</span><span class="n">FromTyped</span><span class="p">(</span>
<span class="w">      </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Any</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">param</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">());</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">fadd1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="o">::</span><span class="n">FromTyped</span><span class="p">(</span><span class="w">  </span><span class="c1">//</span>
<span class="w">      </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fapply</span><span class="p">(</span><span class="n">fadd1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">).</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This pattern is very powerful because we can construct <code class="docutils literal notranslate"><span class="pre">ffi::Function</span></code> not only from C++,
but from any languages that expose to the tvm-ffi ABI. For example, this means we can easily call functions
passed in or registered from Python for quick debugging or other purposes.</p>
<section id="global-function-registry">
<h3>Global Function Registry<a class="headerlink" href="#global-function-registry" title="Link to this heading">#</a></h3>
<p>Besides creating functions locally, tvm-ffi provides a global function registry that allows
functions to be registered and called across different modules and languages.
The following code shows an example</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/function.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/reflection/registry.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleGlobalFunctionRegistry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">reflection</span><span class="o">::</span><span class="n">GlobalDef</span><span class="p">().</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;xyz.add1&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[](</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">fadd1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="o">::</span><span class="n">GetGlobalRequired</span><span class="p">(</span><span class="s">&quot;xyz.add1&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fadd1</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can also access and register global functions from the Python API.</p>
</section>
<section id="exporting-as-library-symbol">
<h3>Exporting as Library Symbol<a class="headerlink" href="#exporting-as-library-symbol" title="Link to this heading">#</a></h3>
<p>Besides the API that allows registration of functions into the global table,
we also provide a macro to export static functions as <code class="docutils literal notranslate"><span class="pre">TVMFFISafeCallType</span></code> symbols in a dynamic library.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">AddOne</span><span class="p">(</span><span class="n">DLTensor</span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">DLTensor</span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ... implementation omitted ...</span>
<span class="p">}</span>

<span class="n">TVM_FFI_DLL_EXPORT_TYPED_FUNC</span><span class="p">(</span><span class="n">add_one</span><span class="p">,</span><span class="w"> </span><span class="n">my_ffi_extension</span><span class="o">::</span><span class="n">AddOne</span><span class="p">);</span>
</pre></div>
</div>
<p>The new <code class="docutils literal notranslate"><span class="pre">add_one</span></code> takes the signature of <code class="docutils literal notranslate"><span class="pre">TVMFFISafeCallType</span></code> and can be wrapped as <code class="docutils literal notranslate"><span class="pre">ffi::Function</span></code>
through the C++ <code class="docutils literal notranslate"><span class="pre">ffi::Module</span></code> API.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ffi</span><span class="o">::</span><span class="n">Module</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Module</span><span class="o">::</span><span class="n">LoadFromFile</span><span class="p">(</span><span class="s">&quot;path/to/export_lib.so&quot;</span><span class="p">);</span>
<span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mod</span><span class="o">-&gt;</span><span class="n">GetFunction</span><span class="p">(</span><span class="s">&quot;add_one&quot;</span><span class="p">).</span><span class="n">value</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>
<section id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">#</a></h2>
<p>We provide a specific <code class="docutils literal notranslate"><span class="pre">ffi::Error</span></code> type that is also made compatible with the ffi ABI.
We also provide a macro <code class="docutils literal notranslate"><span class="pre">TVM_FFI_THROW</span></code> to simplify the error throwing step.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// file: cpp/test_example.cc</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/error.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">FuncThrowError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">TVM_FFI_THROW</span><span class="p">(</span><span class="n">TypeError</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;test0&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">ExampleErrorHandling</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">FuncThrowError</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Error</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">kind</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;TypeError&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">message</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;test0&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">TracebackMostRecentCallLast</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The structured error class records kind, message and backtrace that can be mapped to
Pythonic style error types and traces. The <code class="docutils literal notranslate"><span class="pre">TracebackMostRecentCallLast()</span></code> call reverses
the backtrace and print out follows the Python style,
tvm-ffi will try to preserve the backtrace when possible. In the above example,
you can see the output as</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>... more lines omitted
File &quot;cpp/test_example.cc&quot;, line 106, in ExampleErrorHandling
File &quot;cpp/test_example.cc&quot;, line 100, in void FuncThrowError()
</pre></div>
</div>
<p>The ffi ABI provides minimal but sufficient mechanisms to propagate these errors across
language boundaries.
So when we call the function from Python, the Error will be translated into a corresponding
Error type. Similarly, when we call a Python callback from C++, the error will be translated
into the right error kind and message.</p>
</section>
<section id="tensor">
<h2>Tensor<a class="headerlink" href="#tensor" title="Link to this heading">#</a></h2>
<p>For many use cases, we do not need to manage the nd-array/Tensor memory.
In such cases, <code class="docutils literal notranslate"><span class="pre">DLTensor*</span></code> can be used as the function arguments.
There can be cases for a managed container for multi-dimensional arrays.
<code class="docutils literal notranslate"><span class="pre">ffi::Tensor</span></code> is a minimal container to provide such support.
Notably, specific logic of device allocations and array operations are non-goals
of the FFI. Instead, we provide minimal generic API <code class="docutils literal notranslate"><span class="pre">ffi::Tensor::FromNDAlloc</span></code>
to enable flexible customization of Tensor allocation.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/tensor.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/shape.h&gt;</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">CPUNDAlloc</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">AllocData</span><span class="p">(</span><span class="n">DLTensor</span><span class="o">*</span><span class="w"> </span><span class="n">tensor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">tensor</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="n">tvm</span><span class="o">::</span><span class="n">ffi</span><span class="o">::</span><span class="n">GetDataSize</span><span class="p">(</span><span class="o">*</span><span class="n">tensor</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">FreeData</span><span class="p">(</span><span class="n">DLTensor</span><span class="o">*</span><span class="w"> </span><span class="n">tensor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">free</span><span class="p">(</span><span class="n">tensor</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleTensor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Shape</span><span class="w"> </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">};</span>
<span class="w">  </span><span class="n">DLDataType</span><span class="w"> </span><span class="n">dtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">kDLFloat</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">};</span>
<span class="w">  </span><span class="n">DLDevice</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">kDLCPU</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">};</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Tensor</span><span class="w"> </span><span class="n">tensor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Tensor</span><span class="o">::</span><span class="n">FromNDAlloc</span><span class="p">(</span><span class="n">CPUNDAlloc</span><span class="p">(),</span><span class="w"> </span><span class="n">shape</span><span class="p">,</span><span class="w"> </span><span class="n">dtype</span><span class="p">,</span><span class="w"> </span><span class="n">device</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// now tensor is a managed tensor</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above example shows how we define <code class="docutils literal notranslate"><span class="pre">CPUNDAlloc</span></code> that customizes <code class="docutils literal notranslate"><span class="pre">AllocData</span></code>
and <code class="docutils literal notranslate"><span class="pre">FreeData</span></code> behavior. The CPUNDAlloc struct will be kept alive with the Tensor object.
This pattern allows us to implement various Tensor allocations using the same API:</p>
<ul class="simple">
<li><p>For CUDA allocation, we can change malloc to cudaMalloc</p></li>
<li><p>For memory-pool based allocation, we can update <code class="docutils literal notranslate"><span class="pre">CPUNDAlloc</span></code> to keep a strong reference to the pool,
so we can keep memory-pool alive when the array is alive.</p></li>
</ul>
<p><strong>Working with Shapes</strong> As you may have noticed in the example, we have a <code class="docutils literal notranslate"><span class="pre">ffi::Shape</span></code> container that is used
to represent the shapes in nd-array. This container allows us to have compact and efficient representation
of managed shapes and we provide quick conversions from standard vector types.</p>
<section id="dlpack-conversion">
<h3>DLPack Conversion<a class="headerlink" href="#dlpack-conversion" title="Link to this heading">#</a></h3>
<p>We provide first-class DLPack support to the <code class="docutils literal notranslate"><span class="pre">ffi::Tensor</span></code> that enables efficient exchange
through the DLPack Protocol.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/tensor.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleTensorDLPack</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Shape</span><span class="w"> </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">};</span>
<span class="w">  </span><span class="n">DLDataType</span><span class="w"> </span><span class="n">dtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">kDLFloat</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">};</span>
<span class="w">  </span><span class="n">DLDevice</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">kDLCPU</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">};</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Tensor</span><span class="w"> </span><span class="n">tensor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Tensor</span><span class="o">::</span><span class="n">FromNDAlloc</span><span class="p">(</span><span class="n">CPUNDAlloc</span><span class="p">(),</span><span class="w"> </span><span class="n">shape</span><span class="p">,</span><span class="w"> </span><span class="n">dtype</span><span class="p">,</span><span class="w"> </span><span class="n">device</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// convert to DLManagedTensorVersioned</span>
<span class="w">  </span><span class="n">DLManagedTensorVersioned</span><span class="o">*</span><span class="w"> </span><span class="n">dlpack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nd</span><span class="p">.</span><span class="n">ToDLPackVersioned</span><span class="p">();</span>
<span class="w">  </span><span class="c1">// load back from DLManagedTensorVersioned</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Tensor</span><span class="w"> </span><span class="n">tensor2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Tensor</span><span class="o">::</span><span class="n">FromDLPackVersioned</span><span class="p">(</span><span class="n">dlpack</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These APIs are also available through the C APIs
<code class="docutils literal notranslate"><span class="pre">TVMFFITensorFromDLPackVersioned</span></code> and <code class="docutils literal notranslate"><span class="pre">TVMFFITensorToDLPackVersioned</span></code>.</p>
</section>
</section>
<section id="string-and-bytes">
<h2>String and Bytes<a class="headerlink" href="#string-and-bytes" title="Link to this heading">#</a></h2>
<p>The tvm-ffi provides first-class support for <code class="docutils literal notranslate"><span class="pre">String</span></code> and <code class="docutils literal notranslate"><span class="pre">Bytes</span></code> types that are efficient,
FFI-compatible, and interoperable with standard C++ string types.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/string.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello world&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">std_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str</span><span class="p">;</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">std_str</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Alternatively, users can always directly use <code class="docutils literal notranslate"><span class="pre">std::string</span></code> in function arguments, conversion
will happen automatically.</p>
<p><strong>Rationale:</strong> We need to have separate Bytes and String so they map well to corresponding Python types.
<code class="docutils literal notranslate"><span class="pre">ffi::String</span></code> is backed by a possibly managed object that makes it more compatible with the Object system.</p>
</section>
<section id="container-types">
<h2>Container Types<a class="headerlink" href="#container-types" title="Link to this heading">#</a></h2>
<p>To enable effective passing and storing of collections of values that are compatible with tvm-ffi,
we provide several built-in container types.</p>
<section id="array">
<h3>Array<a class="headerlink" href="#array" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Array&lt;T&gt;</span></code> provides an array data type that can be used as function arguments.
When we use <code class="docutils literal notranslate"><span class="pre">Array&lt;T&gt;</span></code> as an argument of a Function, it will
perform runtime checks of the elements to ensure the values match the expected type.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/array.h&gt;</span>


<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleArray</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">};</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">numbers</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Function</span><span class="o">::</span><span class="n">FromTyped</span><span class="p">([](</span><span class="k">const</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Array</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">head</span><span class="p">(</span><span class="n">numbers</span><span class="p">).</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// throw an error because 2.2 is not int</span>
<span class="w">    </span><span class="n">head</span><span class="p">(</span><span class="n">ffi</span><span class="o">::</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">ffi</span><span class="o">::</span><span class="n">Any</span><span class="o">&gt;</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2.2</span><span class="p">}));</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">Error</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">kind</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;TypeError&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Under the hood, Array is backed by a reference-counted Object <code class="docutils literal notranslate"><span class="pre">ArrayObj</span></code> that stores
a collection of Any values. Note that conversion from Any to <code class="docutils literal notranslate"><span class="pre">Array&lt;T&gt;</span></code> will result in
runtime checks of elements because the type index only indicates <code class="docutils literal notranslate"><span class="pre">ArrayObj</span></code> as the backing storage.
If you want to defer such checks at the FFI function boundary, consider using <code class="docutils literal notranslate"><span class="pre">Array&lt;Any&gt;</span></code> instead.
When passing lists and tuples from Python, the values will be converted to <code class="docutils literal notranslate"><span class="pre">Array&lt;Any&gt;</span></code> before
being passed into the Function.</p>
<p><strong>Performance note:</strong> Repeatedly converting Any to <code class="docutils literal notranslate"><span class="pre">Array&lt;T&gt;</span></code> can incur repeated
checking overhead at each element. Consider using <code class="docutils literal notranslate"><span class="pre">Array&lt;Any&gt;</span></code> to defer checking or only run conversion once.</p>
</section>
<section id="tuple">
<h3>Tuple<a class="headerlink" href="#tuple" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Tuple&lt;Types...&gt;</span></code> provides type-safe fixed-size collections.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/tuple.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleTuple</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tup</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">tup</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="mi">42</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">tup</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">tup</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Under the hood, Tuple is backed by the same <code class="docutils literal notranslate"><span class="pre">ArrayObj</span></code> as the Array container.
This enables zero-cost exchange with input arguments.</p>
<p><strong>Rationale:</strong> This design unifies the conversion rules from Python list/tuple to
Array/Tuple. We always need a container representation for tuples
to be stored in Any.</p>
</section>
<section id="map">
<h3>Map<a class="headerlink" href="#map" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Map&lt;K,</span> <span class="pre">V&gt;</span></code> provides a key-value based hashmap container that can accept dict-style parameters.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/map.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleMap</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>

<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{{</span><span class="s">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;Bob&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">95</span><span class="p">}};</span>

<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">map0</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">map0</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="s">&quot;Alice&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">map0</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="s">&quot;Alice&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Under the hood, Map is backed by a reference-counted Object <code class="docutils literal notranslate"><span class="pre">MapObj</span></code> that stores
a collection of Any values. The implementation provides a SmallMap variant that stores
values as an array and another variant that is based on a hashmap. The Map preserves insertion
order like Python dictionaries. Conversion from Any to <code class="docutils literal notranslate"><span class="pre">Map&lt;K,</span> <span class="pre">V&gt;</span></code> will result in
runtime checks of its elements because the type index only indicates <code class="docutils literal notranslate"><span class="pre">MapObj</span></code> as the backing storage.
If you want to defer such checks at the FFI function boundary, consider using <code class="docutils literal notranslate"><span class="pre">Map&lt;Any,</span> <span class="pre">Any&gt;</span></code> instead.
When passing dictionaries from Python, the values will be converted to <code class="docutils literal notranslate"><span class="pre">Map&lt;Any,</span> <span class="pre">Any&gt;</span></code> before
being passed into the Function.</p>
<p><strong>Performance note:</strong> Repeatedly converting Any to <code class="docutils literal notranslate"><span class="pre">Map&lt;K,</span> <span class="pre">V&gt;</span></code> can incur repeated
checking overhead at each element. Consider using <code class="docutils literal notranslate"><span class="pre">Map&lt;Any,</span> <span class="pre">Any&gt;</span></code> to defer checking or only run conversion once.</p>
</section>
<section id="optional">
<h3>Optional<a class="headerlink" href="#optional" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Optional&lt;T&gt;</span></code> provides a safe way to handle values that may or may not exist.
We specialize Optional for <code class="docutils literal notranslate"><span class="pre">ffi::String</span></code> and Object types to be more compact,
using nullptr to indicate non-existence.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/optional.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleOptional</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Optional</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">opt0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">opt0</span><span class="p">.</span><span class="n">has_value</span><span class="p">(),</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">opt0</span><span class="p">.</span><span class="n">value</span><span class="p">(),</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>

<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">opt1</span><span class="p">;</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">opt1</span><span class="p">.</span><span class="n">has_value</span><span class="p">(),</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">opt1</span><span class="p">.</span><span class="n">value_or</span><span class="p">(</span><span class="s">&quot;default&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;default&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="variant">
<h3>Variant<a class="headerlink" href="#variant" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Variant&lt;Types...&gt;</span></code> provides a type-safe union of different types.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;tvm/ffi/container/variant.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ExampleVariant</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">namespace</span><span class="w"> </span><span class="nn">ffi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">tvm</span><span class="o">::</span><span class="nn">ffi</span><span class="p">;</span>
<span class="w">  </span><span class="n">ffi</span><span class="o">::</span><span class="n">Variant</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">var0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// EXPECT_EQ is used here for demonstration purposes (testing framework)</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">var0</span><span class="p">.</span><span class="n">get</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>

<span class="w">  </span><span class="n">var0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">maybe_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var0</span><span class="p">.</span><span class="n">as</span><span class="o">&lt;</span><span class="n">ffi</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">maybe_str</span><span class="p">.</span><span class="n">value</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">maybe_int2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var0</span><span class="p">.</span><span class="n">as</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="n">EXPECT_EQ</span><span class="p">(</span><span class="n">maybe_int2</span><span class="p">.</span><span class="n">has_value</span><span class="p">(),</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Under the hood, Variant is a wrapper around Any that restricts the type to the specific types in the list.</p>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="python_packaging.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Python Binding and Packaging</p>
      </div>
    </a>
    <a class="right-next"
       href="python_guide.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Python Guide</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#any-and-anyview">Any and AnyView</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#object-and-objectref">Object and ObjectRef</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function">Function</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#global-function-registry">Global Function Registry</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-as-library-symbol">Exporting as Library Symbol</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#error-handling">Error Handling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tensor">Tensor</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dlpack-conversion">DLPack Conversion</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#string-and-bytes">String and Bytes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#container-types">Container Types</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#array">Array</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tuple">Tuple</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#map">Map</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optional">Optional</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variant">Variant</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Author name not set
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on Oct 21, 2025.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  
  <div class="footer-container" style="margin: 5px 0; font-size: 0.9em; color: #6c757d;">
      <div class="footer-line1" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 3px;">
          <div class="footer-copyright-short">
              Copyright © 2025, Apache Software Foundation
          </div>
          <div class="footer-dropdown">
              <div class="dropdown">
                  <button class="btn btn-link dropdown-toggle" type="button" id="footerDropdown" data-bs-toggle="dropdown"
                  aria-expanded="false" style="font-size: 0.9em; color: #6c757d; text-decoration: none; padding: 0; border: none; background: none;">
                      ASF
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="footerDropdown" style="font-size: 0.9em;">
<li><a class="dropdown-item" href="https://apache.org/" target="_blank" style="font-size: 0.9em;">ASF Homepage</a></li>
<li><a class="dropdown-item" href="https://www.apache.org/licenses/" target="_blank" style="font-size: 0.9em;">License</a></li>
<li><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html" target="_blank" style="font-size: 0.9em;">Sponsorship</a></li>
<li><a class="dropdown-item" href="https://tvm.apache.org/docs/reference/security.html" target="_blank" style="font-size: 0.9em;">Security</a></li>
<li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html" target="_blank" style="font-size: 0.9em;">Thanks</a></li>
<li><a class="dropdown-item" href="https://www.apache.org/events/current-event" target="_blank" style="font-size: 0.9em;">Events</a></li>
                  </ul>
              </div>
          </div>
      </div>
      <div class="footer-line2" style="font-size: 0.9em; color: #6c757d;">
          Apache TVM, Apache, the Apache feather, and the Apache TVM project logo are either trademarks or registered trademarks of the Apache Software Foundation.
      </div>
  </div>
  
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>