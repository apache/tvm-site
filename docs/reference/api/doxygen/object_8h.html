<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tvm: include/tvm/runtime/object.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tvm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_b4c7d8e826c599ba55146c099a14beb5.html">tvm</a></li><li class="navelem"><a class="el" href="dir_404558507ed35459f0d7a6d81d8c508d.html">runtime</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">object.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A managed object in the TVM runtime.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="c__runtime__api_8h_source.html">tvm/runtime/c_runtime_api.h</a>&gt;</code><br />
<code>#include &lt;tvm/runtime/logging.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;type_traits&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for object.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="object_8h__incl.svg" width="850" height="216"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="object_8h__dep__incl.svg" width="5066" height="1706"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="object_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtvm_1_1runtime_1_1TypeIndex.html">tvm::runtime::TypeIndex</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Namespace for the list of type index.  <a href="structtvm_1_1runtime_1_1TypeIndex.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtvm_1_1runtime_1_1Object.html">tvm::runtime::Object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of all object containers.  <a href="classtvm_1_1runtime_1_1Object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A custom smart pointer for <a class="el" href="classtvm_1_1runtime_1_1Object.html" title="base class of all object containers. ">Object</a>.  <a href="classtvm_1_1runtime_1_1ObjectPtr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtvm_1_1runtime_1_1ObjectRef.html">tvm::runtime::ObjectRef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class of all object reference.  <a href="classtvm_1_1runtime_1_1ObjectRef.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtvm_1_1runtime_1_1ObjectPtrHash.html">tvm::runtime::ObjectPtrHash</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtvm_1_1runtime_1_1ObjectRef.html" title="Base class of all object reference. ">ObjectRef</a> hash functor.  <a href="structtvm_1_1runtime_1_1ObjectPtrHash.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtvm_1_1runtime_1_1ObjectPtrEqual.html">tvm::runtime::ObjectPtrEqual</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtvm_1_1runtime_1_1ObjectRef.html" title="Base class of all object reference. ">ObjectRef</a> equal functor.  <a href="structtvm_1_1runtime_1_1ObjectPtrEqual.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacetvm"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetvm.html">tvm</a></td></tr>
<tr class="memdesc:namespacetvm"><td class="mdescLeft">&#160;</td><td class="mdescRight">runtime implementation for LibTorch/TorchScript. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacetvm_1_1runtime"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetvm_1_1runtime.html">tvm::runtime</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5f80f888f69ef72c51ba04cac65d033c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a5f80f888f69ef72c51ba04cac65d033c">TVM_OBJECT_ATOMIC_REF_COUNTER</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a5f80f888f69ef72c51ba04cac65d033c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not use atomic reference counter. If the reference counter is not atomic, an object cannot be owned by multiple threads. We can, however, move an object across threads.  <a href="#a5f80f888f69ef72c51ba04cac65d033c">More...</a><br /></td></tr>
<tr class="separator:a5f80f888f69ef72c51ba04cac65d033c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b7418e9549512b5db0126cf2a716f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#ac2b7418e9549512b5db0126cf2a716f1">TVM_DECLARE_BASE_OBJECT_INFO</a>(TypeName,  ParentType)</td></tr>
<tr class="memdesc:ac2b7418e9549512b5db0126cf2a716f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">helper macro to declare a base object type that can be inherited.  <a href="#ac2b7418e9549512b5db0126cf2a716f1">More...</a><br /></td></tr>
<tr class="separator:ac2b7418e9549512b5db0126cf2a716f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aea9b3f65aeb9150c0fa7800e5573c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a3aea9b3f65aeb9150c0fa7800e5573c6">TVM_DECLARE_FINAL_OBJECT_INFO</a>(TypeName,  ParentType)</td></tr>
<tr class="memdesc:a3aea9b3f65aeb9150c0fa7800e5573c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">helper macro to declare type information in a final class.  <a href="#a3aea9b3f65aeb9150c0fa7800e5573c6">More...</a><br /></td></tr>
<tr class="separator:a3aea9b3f65aeb9150c0fa7800e5573c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744c2fdb7ff7dc43070c1841a5873c84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a744c2fdb7ff7dc43070c1841a5873c84">TVM_ATTRIBUTE_UNUSED</a></td></tr>
<tr class="memdesc:a744c2fdb7ff7dc43070c1841a5873c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">helper macro to suppress unused warning  <a href="#a744c2fdb7ff7dc43070c1841a5873c84">More...</a><br /></td></tr>
<tr class="separator:a744c2fdb7ff7dc43070c1841a5873c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b72d9155e59e0d4dcdf674c90e64c7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a7b72d9155e59e0d4dcdf674c90e64c7e">TVM_STR_CONCAT_</a>(__x,  __y)&#160;&#160;&#160;__x##__y</td></tr>
<tr class="separator:a7b72d9155e59e0d4dcdf674c90e64c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73bf3e57b9d7a6e0dd55d901321d01ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a73bf3e57b9d7a6e0dd55d901321d01ed">TVM_STR_CONCAT</a>(__x,  __y)&#160;&#160;&#160;<a class="el" href="object_8h.html#a7b72d9155e59e0d4dcdf674c90e64c7e">TVM_STR_CONCAT_</a>(__x, __y)</td></tr>
<tr class="separator:a73bf3e57b9d7a6e0dd55d901321d01ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63db332fce1a32738566c8880f0d425"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#ac63db332fce1a32738566c8880f0d425">TVM_OBJECT_REG_VAR_DEF</a>&#160;&#160;&#160;static <a class="el" href="object_8h.html#a744c2fdb7ff7dc43070c1841a5873c84">TVM_ATTRIBUTE_UNUSED</a> uint32_t __make_Object_tid</td></tr>
<tr class="separator:ac63db332fce1a32738566c8880f0d425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1029068e5e7608770038906ca30db09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#ae1029068e5e7608770038906ca30db09">TVM_REGISTER_OBJECT_TYPE</a>(TypeName)&#160;&#160;&#160;<a class="el" href="object_8h.html#a73bf3e57b9d7a6e0dd55d901321d01ed">TVM_STR_CONCAT</a>(<a class="el" href="object_8h.html#ac63db332fce1a32738566c8880f0d425">TVM_OBJECT_REG_VAR_DEF</a>, __COUNTER__) = TypeName::_GetOrAllocRuntimeTypeIndex()</td></tr>
<tr class="memdesc:ae1029068e5e7608770038906ca30db09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper macro to register the object type to runtime. Makes sure that the runtime type table is correctly populated.  <a href="#ae1029068e5e7608770038906ca30db09">More...</a><br /></td></tr>
<tr class="separator:ae1029068e5e7608770038906ca30db09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b57185e07e0065383528eb655fe4d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a06b57185e07e0065383528eb655fe4d8">TVM_DEFINE_DEFAULT_COPY_MOVE_AND_ASSIGN</a>(TypeName)</td></tr>
<tr class="separator:a06b57185e07e0065383528eb655fe4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e7295a4999e2c8e4a2c990beca887a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#ac6e7295a4999e2c8e4a2c990beca887a">TVM_DEFINE_OBJECT_REF_METHODS</a>(TypeName,  ParentType,  ObjectName)</td></tr>
<tr class="separator:ac6e7295a4999e2c8e4a2c990beca887a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782d0de62fbf75736e29c1e79c22c7f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a782d0de62fbf75736e29c1e79c22c7f1">TVM_DEFINE_NOTNULLABLE_OBJECT_REF_METHODS</a>(TypeName,  ParentType,  ObjectName)</td></tr>
<tr class="separator:a782d0de62fbf75736e29c1e79c22c7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa3dc5b6dc33f84b2d28f9a81267212"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#aaaa3dc5b6dc33f84b2d28f9a81267212">TVM_DEFINE_MUTABLE_OBJECT_REF_METHODS</a>(TypeName,  ParentType,  ObjectName)</td></tr>
<tr class="separator:aaaa3dc5b6dc33f84b2d28f9a81267212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98fa3013ab23958a9f05200330e35805"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#a98fa3013ab23958a9f05200330e35805">TVM_DEFINE_MUTABLE_NOTNULLABLE_OBJECT_REF_METHODS</a>(TypeName,  ParentType,  ObjectName)</td></tr>
<tr class="separator:a98fa3013ab23958a9f05200330e35805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8330e3864503fb7c4133ae4d48fe4a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="object_8h.html#af8330e3864503fb7c4133ae4d48fe4a2">TVM_DEFINE_OBJECT_REF_COW_METHOD</a>(ObjectName)</td></tr>
<tr class="memdesc:af8330e3864503fb7c4133ae4d48fe4a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define CopyOnWrite function in an ObjectRef.  <a href="#af8330e3864503fb7c4133ae4d48fe4a2">More...</a><br /></td></tr>
<tr class="separator:af8330e3864503fb7c4133ae4d48fe4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa4a97de4fefd23aa5942c6a545544a05"><td class="memTemplParams" colspan="2">template&lt;typename RelayRefType , typename ObjectType &gt; </td></tr>
<tr class="memitem:aa4a97de4fefd23aa5942c6a545544a05"><td class="memTemplItemLeft" align="right" valign="top">RelayRefType&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetvm_1_1runtime.html#aa4a97de4fefd23aa5942c6a545544a05">tvm::runtime::GetRef</a> (const ObjectType *ptr)</td></tr>
<tr class="memdesc:aa4a97de4fefd23aa5942c6a545544a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a reference type from a raw object ptr type.  <a href="namespacetvm_1_1runtime.html#aa4a97de4fefd23aa5942c6a545544a05">More...</a><br /></td></tr>
<tr class="separator:aa4a97de4fefd23aa5942c6a545544a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756a222aed384e208f32d35d3412c918"><td class="memTemplParams" colspan="2">template&lt;typename SubRef , typename BaseRef &gt; </td></tr>
<tr class="memitem:a756a222aed384e208f32d35d3412c918"><td class="memTemplItemLeft" align="right" valign="top">SubRef&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetvm_1_1runtime.html#a756a222aed384e208f32d35d3412c918">tvm::runtime::Downcast</a> (BaseRef ref)</td></tr>
<tr class="memdesc:a756a222aed384e208f32d35d3412c918"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downcast a base reference type to a more specific type.  <a href="namespacetvm_1_1runtime.html#a756a222aed384e208f32d35d3412c918">More...</a><br /></td></tr>
<tr class="separator:a756a222aed384e208f32d35d3412c918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46bcf7948293194c5b9c7db91da96381"><td class="memTemplParams" colspan="2">template&lt;typename BaseType , typename ObjectType &gt; </td></tr>
<tr class="memitem:a46bcf7948293194c5b9c7db91da96381"><td class="memTemplItemLeft" align="right" valign="top">ObjectPtr&lt; BaseType &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetvm_1_1runtime.html#a46bcf7948293194c5b9c7db91da96381">tvm::runtime::GetObjectPtr</a> (ObjectType *ptr)</td></tr>
<tr class="memdesc:a46bcf7948293194c5b9c7db91da96381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an object ptr type from a raw object ptr.  <a href="namespacetvm_1_1runtime.html#a46bcf7948293194c5b9c7db91da96381">More...</a><br /></td></tr>
<tr class="separator:a46bcf7948293194c5b9c7db91da96381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63300957592e8991c18c54703123ef7"><td class="memTemplParams" colspan="2">template&lt;typename RefType , typename ObjType &gt; </td></tr>
<tr class="memitem:af63300957592e8991c18c54703123ef7"><td class="memTemplItemLeft" align="right" valign="top">RefType&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetvm_1_1runtime.html#af63300957592e8991c18c54703123ef7">tvm::runtime::GetRef</a> (const ObjType *ptr)</td></tr>
<tr class="separator:af63300957592e8991c18c54703123ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d903012aff56c2bd54ff66f48450c3"><td class="memTemplParams" colspan="2">template&lt;typename BaseType , typename ObjType &gt; </td></tr>
<tr class="memitem:ac2d903012aff56c2bd54ff66f48450c3"><td class="memTemplItemLeft" align="right" valign="top">ObjectPtr&lt; BaseType &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacetvm_1_1runtime.html#ac2d903012aff56c2bd54ff66f48450c3">tvm::runtime::GetObjectPtr</a> (ObjType *ptr)</td></tr>
<tr class="separator:ac2d903012aff56c2bd54ff66f48450c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A managed object in the TVM runtime. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a744c2fdb7ff7dc43070c1841a5873c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744c2fdb7ff7dc43070c1841a5873c84">&#9670;&nbsp;</a></span>TVM_ATTRIBUTE_UNUSED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_ATTRIBUTE_UNUSED</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>helper macro to suppress unused warning </p>

</div>
</div>
<a id="ac2b7418e9549512b5db0126cf2a716f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b7418e9549512b5db0126cf2a716f1">&#9670;&nbsp;</a></span>TVM_DECLARE_BASE_OBJECT_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DECLARE_BASE_OBJECT_INFO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ParentType&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">static_assert(!ParentType::_type_final, <span class="stringliteral">&quot;ParentObj marked as final&quot;</span>);                        \</div><div class="line">  static uint32_t RuntimeTypeIndex() {                                                         \</div><div class="line">    static_assert(TypeName::_type_child_slots == 0 || ParentType::_type_child_slots == 0 ||    \</div><div class="line">                      TypeName::_type_child_slots &lt; ParentType::_type_child_slots,             \</div><div class="line">                  <span class="stringliteral">&quot;Need to set _type_child_slots when parent specifies it.&quot;</span>);                  \</div><div class="line">    if (TypeName::_type_index != ::<a class="code" href="structtvm_1_1runtime_1_1TypeIndex.html#aed93c7318efc8052201d4c404b21a40da83fed6b80a5bcb3247430922fd85ea47">tvm::runtime::TypeIndex::kDynamic</a>) {                        \</div><div class="line">      return TypeName::_type_index;                                                            \</div><div class="line">    }                                                                                          \</div><div class="line">    return _GetOrAllocRuntimeTypeIndex();                                                      \</div><div class="line">  }                                                                                            \</div><div class="line">  static uint32_t _GetOrAllocRuntimeTypeIndex() {                                              \</div><div class="line">    static uint32_t tindex = Object::GetOrAllocRuntimeTypeIndex(                               \</div><div class="line">        TypeName::_type_key, TypeName::_type_index, ParentType::_GetOrAllocRuntimeTypeIndex(), \</div><div class="line">        TypeName::_type_child_slots, TypeName::_type_child_slots_can_overflow);                \</div><div class="line">    return tindex;                                                                             \</div><div class="line">  }</div><div class="ttc" id="structtvm_1_1runtime_1_1TypeIndex_html_aed93c7318efc8052201d4c404b21a40da83fed6b80a5bcb3247430922fd85ea47"><div class="ttname"><a href="structtvm_1_1runtime_1_1TypeIndex.html#aed93c7318efc8052201d4c404b21a40da83fed6b80a5bcb3247430922fd85ea47">tvm::runtime::TypeIndex::kDynamic</a></div><div class="ttdoc">Type index is allocated during runtime. </div><div class="ttdef"><b>Definition:</b> object.h:80</div></div>
</div><!-- fragment -->
<p>helper macro to declare a base object type that can be inherited. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TypeName</td><td>The name of the current type. </td></tr>
    <tr><td class="paramname">ParentType</td><td>The name of the ParentType </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3aea9b3f65aeb9150c0fa7800e5573c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aea9b3f65aeb9150c0fa7800e5573c6">&#9670;&nbsp;</a></span>TVM_DECLARE_FINAL_OBJECT_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DECLARE_FINAL_OBJECT_INFO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ParentType&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> constexpr <span class="keywordtype">bool</span> _type_final = <span class="keyword">true</span>;           \</div><div class="line">  static <span class="keyword">const</span> constexpr <span class="keywordtype">int</span> _type_child_slots = 0;         \</div><div class="line">  TVM_DECLARE_BASE_OBJECT_INFO(TypeName, ParentType)</div></div><!-- fragment -->
<p>helper macro to declare type information in a final class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TypeName</td><td>The name of the current type. </td></tr>
    <tr><td class="paramname">ParentType</td><td>The name of the ParentType </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_2workspace_2include_2tvm_2script_2ir_builder_2base_8h-example.html#a11">/workspace/include/tvm/script/ir_builder/base.h</a>.</dd>
</dl>
</div>
</div>
<a id="a06b57185e07e0065383528eb655fe4d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b57185e07e0065383528eb655fe4d8">&#9670;&nbsp;</a></span>TVM_DEFINE_DEFAULT_COPY_MOVE_AND_ASSIGN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DEFINE_DEFAULT_COPY_MOVE_AND_ASSIGN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">TypeName(<span class="keyword">const</span> TypeName&amp; other) = <span class="keywordflow">default</span>;              \</div><div class="line">  TypeName(TypeName&amp;&amp; other) = <span class="keywordflow">default</span>;                   \</div><div class="line">  TypeName&amp; operator=(<span class="keyword">const</span> TypeName&amp; other) = <span class="keywordflow">default</span>;   \</div><div class="line">  TypeName&amp; operator=(TypeName&amp;&amp; other) = <span class="keywordflow">default</span>;</div></div><!-- fragment -->
</div>
</div>
<a id="a98fa3013ab23958a9f05200330e35805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98fa3013ab23958a9f05200330e35805">&#9670;&nbsp;</a></span>TVM_DEFINE_MUTABLE_NOTNULLABLE_OBJECT_REF_METHODS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DEFINE_MUTABLE_NOTNULLABLE_OBJECT_REF_METHODS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ParentType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ObjectName&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">explicit</span> TypeName(::<a class="code" href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt;</a> n) : ParentType(n) {} \</div><div class="line">  TVM_DEFINE_DEFAULT_COPY_MOVE_AND_ASSIGN(TypeName);                                        \</div><div class="line">  ObjectName* operator-&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ObjectName*<span class="keyword">&gt;</span>(data_.get()); }          \</div><div class="line">  ObjectName* <span class="keyword">get</span>() <span class="keyword">const</span> { <span class="keywordflow">return</span> operator-&gt;(); }                                          \</div><div class="line">  static constexpr <span class="keywordtype">bool</span> _type_is_nullable = <span class="keyword">false</span>;                                          \</div><div class="line">  using ContainerType = ObjectName;</div><div class="ttc" id="classtvm_1_1runtime_1_1ObjectPtr_html"><div class="ttname"><a href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr</a></div><div class="ttdoc">A custom smart pointer for Object. </div><div class="ttdef"><b>Definition:</b> object.h:358</div></div>
</div><!-- fragment --><dl><dt><b>Examples: </b></dt><dd><a class="el" href="_2workspace_2include_2tvm_2script_2ir_builder_2base_8h-example.html#a10">/workspace/include/tvm/script/ir_builder/base.h</a>.</dd>
</dl>
</div>
</div>
<a id="aaaa3dc5b6dc33f84b2d28f9a81267212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa3dc5b6dc33f84b2d28f9a81267212">&#9670;&nbsp;</a></span>TVM_DEFINE_MUTABLE_OBJECT_REF_METHODS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DEFINE_MUTABLE_OBJECT_REF_METHODS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ParentType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ObjectName&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">TypeName() = <span class="keywordflow">default</span>;                                                                     \</div><div class="line">  TVM_DEFINE_DEFAULT_COPY_MOVE_AND_ASSIGN(TypeName);                                        \</div><div class="line">  explicit TypeName(::<a class="code" href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt;</a> n) : ParentType(n) {} \</div><div class="line">  ObjectName* operator-&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ObjectName*<span class="keyword">&gt;</span>(data_.get()); }          \</div><div class="line">  using ContainerType = ObjectName;</div><div class="ttc" id="classtvm_1_1runtime_1_1ObjectPtr_html"><div class="ttname"><a href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr</a></div><div class="ttdoc">A custom smart pointer for Object. </div><div class="ttdef"><b>Definition:</b> object.h:358</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a782d0de62fbf75736e29c1e79c22c7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a782d0de62fbf75736e29c1e79c22c7f1">&#9670;&nbsp;</a></span>TVM_DEFINE_NOTNULLABLE_OBJECT_REF_METHODS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DEFINE_NOTNULLABLE_OBJECT_REF_METHODS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ParentType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ObjectName&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">explicit</span> TypeName(::<a class="code" href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt;</a> n) : ParentType(n) {}    \</div><div class="line">  TVM_DEFINE_DEFAULT_COPY_MOVE_AND_ASSIGN(TypeName);                                           \</div><div class="line">  const ObjectName* operator-&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>ObjectName*<span class="keyword">&gt;</span>(data_.get()); } \</div><div class="line">  const ObjectName* <span class="keyword">get</span>() <span class="keyword">const</span> { <span class="keywordflow">return</span> operator-&gt;(); }                                       \</div><div class="line">  static constexpr <span class="keywordtype">bool</span> _type_is_nullable = <span class="keyword">false</span>;                                             \</div><div class="line">  using ContainerType = ObjectName;</div><div class="ttc" id="classtvm_1_1runtime_1_1ObjectPtr_html"><div class="ttname"><a href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr</a></div><div class="ttdoc">A custom smart pointer for Object. </div><div class="ttdef"><b>Definition:</b> object.h:358</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af8330e3864503fb7c4133ae4d48fe4a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8330e3864503fb7c4133ae4d48fe4a2">&#9670;&nbsp;</a></span>TVM_DEFINE_OBJECT_REF_COW_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DEFINE_OBJECT_REF_COW_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ObjectName</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">ObjectName* CopyOnWrite() {                            \</div><div class="line">    ICHECK(data_ != <span class="keyword">nullptr</span>);                            \</div><div class="line">    if (!data_.unique()) {                               \</div><div class="line">      auto n = make_object&lt;ObjectName&gt;(*(operator-&gt;())); \</div><div class="line">      ObjectPtr&lt;Object&gt;(std::move(n)).swap(data_);       \</div><div class="line">    }                                                    \</div><div class="line">    return <span class="keyword">static_cast&lt;</span>ObjectName*<span class="keyword">&gt;</span>(data_.get());        \</div><div class="line">  }</div></div><!-- fragment -->
<p>Define CopyOnWrite function in an ObjectRef. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ObjectName</td><td>The Type of the Node.</td></tr>
  </table>
  </dd>
</dl>
<p>CopyOnWrite will generate a unique copy of the internal node. The node will be copied if it is referenced by multiple places. The function returns the raw pointer to the node to allow modification of the content.</p>
<div class="fragment"><div class="line">MyCOWObjectRef ref, ref2;</div><div class="line">ref2 = ref;</div><div class="line">ref.CopyOnWrite()-&gt;value = new_value;</div><div class="line">assert(ref2-&gt;value == old_value);</div><div class="line">assert(ref-&gt;value == new_value);</div></div><!-- fragment --> 
</div>
</div>
<a id="ac6e7295a4999e2c8e4a2c990beca887a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e7295a4999e2c8e4a2c990beca887a">&#9670;&nbsp;</a></span>TVM_DEFINE_OBJECT_REF_METHODS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_DEFINE_OBJECT_REF_METHODS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ParentType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ObjectName&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">TypeName() = <span class="keywordflow">default</span>;                                                                        \</div><div class="line">  explicit TypeName(::<a class="code" href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr&lt;::tvm::runtime::Object&gt;</a> n) : ParentType(n) {}    \</div><div class="line">  TVM_DEFINE_DEFAULT_COPY_MOVE_AND_ASSIGN(TypeName);                                           \</div><div class="line">  const ObjectName* operator-&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>ObjectName*<span class="keyword">&gt;</span>(data_.get()); } \</div><div class="line">  const ObjectName* <span class="keyword">get</span>() <span class="keyword">const</span> { <span class="keywordflow">return</span> operator-&gt;(); }                                       \</div><div class="line">  using ContainerType = ObjectName;</div><div class="ttc" id="classtvm_1_1runtime_1_1ObjectPtr_html"><div class="ttname"><a href="classtvm_1_1runtime_1_1ObjectPtr.html">tvm::runtime::ObjectPtr</a></div><div class="ttdoc">A custom smart pointer for Object. </div><div class="ttdef"><b>Definition:</b> object.h:358</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f80f888f69ef72c51ba04cac65d033c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f80f888f69ef72c51ba04cac65d033c">&#9670;&nbsp;</a></span>TVM_OBJECT_ATOMIC_REF_COUNTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_OBJECT_ATOMIC_REF_COUNTER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether or not use atomic reference counter. If the reference counter is not atomic, an object cannot be owned by multiple threads. We can, however, move an object across threads. </p>

</div>
</div>
<a id="ac63db332fce1a32738566c8880f0d425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac63db332fce1a32738566c8880f0d425">&#9670;&nbsp;</a></span>TVM_OBJECT_REG_VAR_DEF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_OBJECT_REG_VAR_DEF&#160;&#160;&#160;static <a class="el" href="object_8h.html#a744c2fdb7ff7dc43070c1841a5873c84">TVM_ATTRIBUTE_UNUSED</a> uint32_t __make_Object_tid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae1029068e5e7608770038906ca30db09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1029068e5e7608770038906ca30db09">&#9670;&nbsp;</a></span>TVM_REGISTER_OBJECT_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_REGISTER_OBJECT_TYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TypeName</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="object_8h.html#a73bf3e57b9d7a6e0dd55d901321d01ed">TVM_STR_CONCAT</a>(<a class="el" href="object_8h.html#ac63db332fce1a32738566c8880f0d425">TVM_OBJECT_REG_VAR_DEF</a>, __COUNTER__) = TypeName::_GetOrAllocRuntimeTypeIndex()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper macro to register the object type to runtime. Makes sure that the runtime type table is correctly populated. </p>
<p>Use this macro in the cc file for each terminal class. </p>

</div>
</div>
<a id="a73bf3e57b9d7a6e0dd55d901321d01ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73bf3e57b9d7a6e0dd55d901321d01ed">&#9670;&nbsp;</a></span>TVM_STR_CONCAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_STR_CONCAT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="object_8h.html#a7b72d9155e59e0d4dcdf674c90e64c7e">TVM_STR_CONCAT_</a>(__x, __y)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b72d9155e59e0d4dcdf674c90e64c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b72d9155e59e0d4dcdf674c90e64c7e">&#9670;&nbsp;</a></span>TVM_STR_CONCAT_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TVM_STR_CONCAT_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;__x##__y</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
