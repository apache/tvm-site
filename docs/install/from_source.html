



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install from Source &mdash; tvm 0.20.dev0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/downloads/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/tlcpack_theme.css" type="text/css" />

  
  

  
  
  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=1b5e2a23"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <script type="text/javascript" src="../_static/js/tlcpack_theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Docker Images" href="docker.html" />
    <link rel="prev" title="Installing TVM" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    
<header class="header">
    <div class="innercontainer">
      <div class="headerInner d-flex justify-content-between align-items-center">
          <div class="headerLogo">
               <a href="https://tvm.apache.org/"><img src=https://tvm.apache.org/assets/images/logo.svg alt="logo"></a>
          </div>

          <div id="headMenu" class="headerNav">
            <button type="button" id="closeHeadMenu" class="navCloseBtn"><img src="../_static/img/close-icon.svg" alt="Close"></button>
             <ul class="nav">
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/community>Community</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/download>Download</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/blog>Blog</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/docs>Docs</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvmconf.org>Conference</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://github.com/apache/tvm/>Github</a>
                </li>
             </ul>
               <div class="responsivetlcdropdown">
                 <button type="button" class="btn-link">
                   ASF
                 </button>
                 <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://tvm.apache.org/docs/reference/security.html>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                 </ul>
               </div>
          </div>
            <div class="responsiveMenuIcon">
              <button type="button" id="menuBtn" class="btn-menu"><img src="../_static/img/menu-icon.svg" alt="Menu Icon"></button>
            </div>

            <div class="tlcDropdown">
              <div class="dropdown">
                <button type="button" class="btn-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  ASF
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                  <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://tvm.apache.org/docs/reference/security.html>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                  </ul>
                </div>
              </div>
          </div>
       </div>
    </div>
 </header>
 
    <nav data-toggle="wy-nav-shift" class="wy-nav-side fixed">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="sidetitle" alt="Documentation Home"> tvm
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get_started/overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installing TVM</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Install from Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-1-install-dependencies">Step 1. Install Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-2-get-source-from-github">Step 2. Get Source from Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-3-configure-and-build">Step 3. Configure and Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-4-validate-installation">Step 4. Validate Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-5-extra-python-dependencies">Step 5. Extra Python Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-build-configuration">Advanced Build Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ccache">Ccache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-on-windows">Building on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-rocm-support">Building ROCm support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-c-tests">Enable C++ Tests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker Images</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/tutorials/quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/tutorials/ir_module.html">IRModule</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how_to/tutorials/e2e_opt_model.html">End-to-End Optimize Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/tutorials/customize_opt.html">Customize Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/tutorials/optimize_llm.html">Optimize Large Language Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/tutorials/cross_compilation_and_rpc.html">Cross Compilation and RPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/dev/index.html">Development Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deep Dive</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">Design and Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/tensor_ir/index.html">TensorIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep_dive/relax/index.html">Relax</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/api/python/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api/links.html">Other APIs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/security.html">Security Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Index</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      
      <nav class="wy-nav-top" aria-label="top navigation" data-toggle="wy-nav-top">
        
            <div class="togglemenu">

            </div>
            <div class="nav-content">
              <!-- tvm -->
              Table of Contents
            </div>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        

          




















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> <span class="br-arrow">></span></li>
        
          <li><a href="index.html">Installing TVM</a> <span class="br-arrow">></span></li>
        
      <li>Install from Source</li>
    
    
      
      
        
      
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/apache/tvm/edit/main/docs/install/from_source.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="install-from-source">
<span id="id1"></span><h1>Install from Source<a class="headerlink" href="#install-from-source" title="Link to this heading"></a></h1>
<p>This page gives instructions on how to build and install the TVM package from source.</p>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#step-1-install-dependencies" id="id2">Step 1. Install Dependencies</a></p></li>
<li><p><a class="reference internal" href="#step-2-get-source-from-github" id="id3">Step 2. Get Source from Github</a></p></li>
<li><p><a class="reference internal" href="#step-3-configure-and-build" id="id4">Step 3. Configure and Build</a></p></li>
<li><p><a class="reference internal" href="#step-4-validate-installation" id="id5">Step 4. Validate Installation</a></p></li>
<li><p><a class="reference internal" href="#step-5-extra-python-dependencies" id="id6">Step 5. Extra Python Dependencies</a></p></li>
<li><p><a class="reference internal" href="#advanced-build-configuration" id="id7">Advanced Build Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#ccache" id="id8">Ccache</a></p></li>
<li><p><a class="reference internal" href="#building-on-windows" id="id9">Building on Windows</a></p></li>
<li><p><a class="reference internal" href="#building-rocm-support" id="id10">Building ROCm support</a></p></li>
<li><p><a class="reference internal" href="#enable-c-tests" id="id11">Enable C++ Tests</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="step-1-install-dependencies">
<span id="install-dependencies"></span><h2><a class="toc-backref" href="#id2" role="doc-backlink">Step 1. Install Dependencies</a><a class="headerlink" href="#step-1-install-dependencies" title="Link to this heading"></a></h2>
<p>Apache TVM requires the following dependencies:</p>
<ul class="simple">
<li><p>CMake (&gt;= 3.24.0)</p></li>
<li><p>LLVM (recommended &gt;= 15)</p></li>
<li><p>Git</p></li>
<li><dl class="simple">
<dt>A recent C++ compiler supporting C++ 17, at the minimum</dt><dd><ul>
<li><p>GCC 7.1</p></li>
<li><p>Clang 5.0</p></li>
<li><p>Apple Clang 9.3</p></li>
<li><p>Visual Studio 2019 (v16.7)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Python (&gt;= 3.8)</p></li>
<li><p>(Optional) Conda (Strongly Recommended)</p></li>
</ul>
<p>To easiest way to manage dependency is via conda, which maintains a set of toolchains
including LLVM across platforms. To create the environment of those build dependencies,
one may simply use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># make sure to start with a fresh environment</span>
conda<span class="w"> </span>env<span class="w"> </span>remove<span class="w"> </span>-n<span class="w"> </span>tvm-build-venv
<span class="c1"># create the conda environment with build dependency</span>
conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>tvm-build-venv<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="s2">&quot;llvmdev&gt;=15&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="s2">&quot;cmake&gt;=3.24&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>git<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11
<span class="c1"># enter the build environment</span>
conda<span class="w"> </span>activate<span class="w"> </span>tvm-build-venv
</pre></div>
</div>
</section>
<section id="step-2-get-source-from-github">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Step 2. Get Source from Github</a><a class="headerlink" href="#step-2-get-source-from-github" title="Link to this heading"></a></h2>
<p>You can also choose to clone the source repo from github.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/apache/tvm<span class="w"> </span>tvm
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s important to use the <code class="docutils literal notranslate"><span class="pre">--recursive</span></code> flag when cloning the TVM repository, which will
automatically clone the submodules. If you forget to use this flag, you can manually clone the submodules
by running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span> <span class="pre">--recursive</span></code> in the root directory of the TVM repository.</p>
</div>
</section>
<section id="step-3-configure-and-build">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Step 3. Configure and Build</a><a class="headerlink" href="#step-3-configure-and-build" title="Link to this heading"></a></h2>
<p>Create a build directory and run CMake to configure the build. The following example shows how to build</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>tvm
rm<span class="w"> </span>-rf<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
<span class="c1"># Specify the build configuration via CMake options</span>
cp<span class="w"> </span>../cmake/config.cmake<span class="w"> </span>.
</pre></div>
</div>
<p>We want to specifically tweak the following flags by appending them to the end of the configuration file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># controls default compilation flags (Candidates: Release, Debug, RelWithDebInfo)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(CMAKE_BUILD_TYPE RelWithDebInfo)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake

<span class="c1"># LLVM is a must dependency for compiler end</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_LLVM \&quot;llvm-config --ignore-libllvm --link-static\&quot;)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(HIDE_PRIVATE_SYMBOLS ON)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake

<span class="c1"># GPU SDKs, turn on if needed</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_CUDA   OFF)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_METAL  OFF)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_VULKAN OFF)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_OPENCL OFF)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake

<span class="c1"># cuBLAS, cuDNN, cutlass support, turn on if needed</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_CUBLAS OFF)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_CUDNN  OFF)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;set(USE_CUTLASS OFF)&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>config.cmake
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">HIDE_PRIVATE_SYMBOLS</span></code> is a configuration option that enables the <code class="docutils literal notranslate"><span class="pre">-fvisibility=hidden</span></code> flag.
This flag helps prevent potential symbol conflicts between TVM and PyTorch. These conflicts arise due to
the frameworks shipping LLVMs of different versions.</p>
<p><a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html">CMAKE_BUILD_TYPE</a> controls default compilation flag:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Debug</span></code> sets <code class="docutils literal notranslate"><span class="pre">-O0</span> <span class="pre">-g</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RelWithDebInfo</span></code> sets <code class="docutils literal notranslate"><span class="pre">-O2</span> <span class="pre">-g</span> <span class="pre">-DNDEBUG</span></code> (recommended)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Release</span></code> sets <code class="docutils literal notranslate"><span class="pre">-O3</span> <span class="pre">-DNDEBUG</span></code></p></li>
</ul>
</div>
<p>Once <code class="docutils literal notranslate"><span class="pre">config.cmake</span></code> is edited accordingly, kick off build with the commands below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>..<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cmake<span class="w"> </span>--build<span class="w"> </span>.<span class="w"> </span>--parallel<span class="w"> </span><span class="k">$(</span>nproc<span class="k">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">nproc</span></code> may not be available on all systems, please replace it with the number of cores on your system</p>
</div>
<p>A success build should produce <code class="docutils literal notranslate"><span class="pre">libtvm</span></code> and <code class="docutils literal notranslate"><span class="pre">libtvm_runtime</span></code> under <code class="docutils literal notranslate"><span class="pre">build/</span></code> directory.</p>
<p>Leaving the build environment <code class="docutils literal notranslate"><span class="pre">tvm-build-venv</span></code>, there are two ways to install the successful build into your environment:</p>
<ul class="simple">
<li><p>Install via environment variable</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">TVM_HOME</span><span class="o">=</span>/path-to-tvm
<span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nv">$TVM_HOME</span>/python:<span class="nv">$PYTHONPATH</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Install via pip local project</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>your-own-env
conda<span class="w"> </span>install<span class="w"> </span>python<span class="w"> </span><span class="c1"># make sure python is installed</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">TVM_LIBRARY_PATH</span><span class="o">=</span>/path-to-tvm/build
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>/path-to-tvm/python
</pre></div>
</div>
</section>
<section id="step-4-validate-installation">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Step 4. Validate Installation</a><a class="headerlink" href="#step-4-validate-installation" title="Link to this heading"></a></h2>
<p>Using a compiler infrastructure with multiple language bindings could be error-prone.
Therefore, it is highly recommended to validate Apache TVM installation before use.</p>
<p><strong>Step 1. Locate TVM Python package.</strong> The following command can help confirm that TVM is properly installed as a python package and provide the location of the TVM python package:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt;<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import tvm; print(tvm.__file__)&quot;</span>
/some-path/lib/python3.11/site-packages/tvm/__init__.py
</pre></div>
</div>
<p><strong>Step 2. Confirm which TVM library is used.</strong> When maintaining multiple build or installation of TVM, it becomes important to double check if the python package is using the proper <code class="docutils literal notranslate"><span class="pre">libtvm</span></code> with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt;<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import tvm; print(tvm._ffi.base._LIB)&quot;</span>
&lt;CDLL<span class="w"> </span><span class="s1">&#39;/some-path/lib/python3.11/site-packages/tvm/libtvm.dylib&#39;</span>,<span class="w"> </span>handle<span class="w"> </span>95ada510<span class="w"> </span>at<span class="w"> </span>0x1030e4e50&gt;
</pre></div>
</div>
<p><strong>Step 3. Reflect TVM build option.</strong> Sometimes when downstream application fails, it could likely be some mistakes with a wrong TVM commit, or wrong build flags. To find it out, the following commands will be helpful:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt;<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import tvm; print(&#39;\n&#39;.join(f&#39;{k}: {v}&#39; for k, v in tvm.support.libinfo().items()))&quot;</span>
...<span class="w"> </span><span class="c1"># Omitted less relevant options</span>
GIT_COMMIT_HASH:<span class="w"> </span>4f6289590252a1cf45a4dc37bce55a25043b8338
HIDE_PRIVATE_SYMBOLS:<span class="w"> </span>ON
USE_LLVM:<span class="w"> </span>llvm-config<span class="w"> </span>--link-static
LLVM_VERSION:<span class="w"> </span><span class="m">15</span>.0.7
USE_VULKAN:<span class="w"> </span>OFF
USE_CUDA:<span class="w"> </span>OFF
CUDA_VERSION:<span class="w"> </span>NOT-FOUND
USE_OPENCL:<span class="w"> </span>OFF
USE_METAL:<span class="w"> </span>ON
USE_ROCM:<span class="w"> </span>OFF
</pre></div>
</div>
<p><strong>Step 4. Check device detection.</strong> Sometimes it could be helpful to understand if TVM could detect your device at all with the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt;<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import tvm; print(tvm.metal().exist)&quot;</span>
True<span class="w"> </span><span class="c1"># or False</span>
&gt;&gt;&gt;<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import tvm; print(tvm.cuda().exist)&quot;</span>
False<span class="w"> </span><span class="c1"># or True</span>
&gt;&gt;&gt;<span class="w"> </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import tvm; print(tvm.vulkan().exist)&quot;</span>
False<span class="w"> </span><span class="c1"># or True</span>
</pre></div>
</div>
<p>Please note that the commands above verify the presence of an actual device on the local machine for the TVM runtime (not the compiler) to execute properly. However, TVM compiler can perform compilation tasks without requiring a physical device. As long as the necessary toolchain, such as NVCC, is available, TVM supports cross-compilation even in the absence of an actual device.</p>
</section>
<section id="step-5-extra-python-dependencies">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Step 5. Extra Python Dependencies</a><a class="headerlink" href="#step-5-extra-python-dependencies" title="Link to this heading"></a></h2>
<p>Building from source does not ensure the installation of all necessary Python dependencies.
The following commands can be used to install the extra Python dependencies:</p>
<ul class="simple">
<li><p>Necessary dependencies:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3<span class="w"> </span>install<span class="w"> </span>numpy<span class="w"> </span>decorator
</pre></div>
</div>
<ul class="simple">
<li><p>If you want to use RPC Tracker</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3<span class="w"> </span>install<span class="w"> </span>tornado
</pre></div>
</div>
<ul class="simple">
<li><p>If you want to use auto-tuning module</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3<span class="w"> </span>install<span class="w"> </span>tornado<span class="w"> </span>psutil<span class="w"> </span><span class="s1">&#39;xgboost&gt;=1.1.0&#39;</span><span class="w"> </span>cloudpickle
</pre></div>
</div>
</section>
<section id="advanced-build-configuration">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Advanced Build Configuration</a><a class="headerlink" href="#advanced-build-configuration" title="Link to this heading"></a></h2>
<section id="ccache">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Ccache</a><a class="headerlink" href="#ccache" title="Link to this heading"></a></h3>
<p>On supported platforms, the <a class="reference external" href="https://ccache.dev/">Ccache compiler wrapper</a> may be helpful for
reducing TVM’s build time, especially when building with <a class="reference external" href="https://github.com/NVIDIA/cutlass">cutlass</a>
or <a class="reference external" href="https://github.com/flashinfer-ai/flashinfer">flashinfer</a>.
There are several ways to enable CCache in TVM builds:</p>
<blockquote>
<div><ul class="simple">
<li><p>Leave <code class="docutils literal notranslate"><span class="pre">USE_CCACHE=AUTO</span></code> in <code class="docutils literal notranslate"><span class="pre">build/config.cmake</span></code>. CCache will be used if it is found.</p></li>
<li><p>Ccache’s Masquerade mode. This is typically enabled during the Ccache installation process.
To have TVM use Ccache in masquerade, simply specify the appropriate C/C++ compiler
paths when configuring TVM’s build system.  For example:
<code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">-DCMAKE_CXX_COMPILER=/usr/lib/ccache/c++</span> <span class="pre">...</span></code>.</p></li>
<li><p>Ccache as CMake’s C++ compiler prefix.  When configuring TVM’s build system,
set the CMake variable <code class="docutils literal notranslate"><span class="pre">CMAKE_CXX_COMPILER_LAUNCHER</span></code> to an appropriate value.
E.g. <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">-DCMAKE_CXX_COMPILER_LAUNCHER=ccache</span> <span class="pre">...</span></code>.</p></li>
</ul>
</div></blockquote>
</section>
<section id="building-on-windows">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Building on Windows</a><a class="headerlink" href="#building-on-windows" title="Link to this heading"></a></h3>
<p>TVM support build via MSVC using cmake. You will need to obtain a visual studio compiler.
The minimum required VS version is <strong>Visual Studio Enterprise 2019</strong> (NOTE: we test
against GitHub Actions’ <a class="reference external" href="https://github.com/actions/virtual-environments/blob/main/images/win/Windows2019-Readme.md">Windows 2019 Runner</a>, so see that page for full details.
We recommend following <a class="reference internal" href="#install-dependencies"><span class="std std-ref">Step 1. Install Dependencies</span></a> to obtain necessary dependencies and
get an activated tvm-build environment. Then you can run the following command to build</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..
<span class="nb">cd</span><span class="w"> </span>..
</pre></div>
</div>
<p>The above command generates the solution file under the build directory.
You can then run the following command to build</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>--config<span class="w"> </span>Release<span class="w"> </span>--<span class="w"> </span>/m
</pre></div>
</div>
</section>
<section id="building-rocm-support">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Building ROCm support</a><a class="headerlink" href="#building-rocm-support" title="Link to this heading"></a></h3>
<p>Currently, ROCm is supported only on linux, so all the instructions are written with linux in mind.</p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">set(USE_ROCM</span> <span class="pre">ON)</span></code>, set ROCM_PATH to the correct path.</p></li>
<li><p>You need to first install HIP runtime from ROCm. Make sure the installation system has ROCm installed in it.</p></li>
<li><p>Install latest stable version of LLVM (v6.0.1), and LLD, make sure <code class="docutils literal notranslate"><span class="pre">ld.lld</span></code> is available via command line.</p></li>
</ul>
</section>
<section id="enable-c-tests">
<span id="install-from-source-cpp-tests"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">Enable C++ Tests</a><a class="headerlink" href="#enable-c-tests" title="Link to this heading"></a></h3>
<p>We use <a class="reference external" href="https://github.com/google/googletest">Google Test</a> to drive the C++
tests in TVM. The easiest way to install GTest is from source.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/google/googletest
<span class="nb">cd</span><span class="w"> </span>googletest
mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-DBUILD_SHARED_LIBS<span class="o">=</span>ON<span class="w"> </span>..
make
sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
<p>After installing GTest, the C++ tests can be built and started with <code class="docutils literal notranslate"><span class="pre">./tests/scripts/task_cpp_unittest.sh</span></code> or just built with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">cpptest</span></code>.</p>
</section>
</section>
</section>


           </div>
           
          </div>
          

<footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="docker.html" class="btn btn-neutral float-right" title="Docker Images" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Installing TVM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>

<div id="button" class="backtop"><img src="../_static/img/right.svg" alt="backtop"/> </div>
<section class="footerSec">
    <div class="footerHeader">
      <div class="d-flex align-md-items-center justify-content-between flex-column flex-md-row">
        <div class="copywrite d-flex align-items-center">
          <h5 id="copy-right-info">© 2024 Apache Software Foundation | All rights reserved</h5>
        </div>
      </div>

    </div>

    <div>
      <div class="footernote">Copyright © 2024 The Apache Software Foundation. Apache TVM, Apache, the Apache feather, and the Apache TVM project logo are either trademarks or registered trademarks of the Apache Software Foundation.</div>
    </div>

</section>
</footer>
        </div>
      </div>

    </section>

  </div>
  

    <script src="../_static/downloads/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="../_static/downloads/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </body>
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>