





<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Submit a Pull Request &mdash; tvm 0.10.0 documentation</title>
  

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/tlcpack_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/tvm-logo-square.png"/>
  

  
  
  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <script type="text/javascript" src="../_static/js/tlcpack_theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Code Reviews" href="code_review.html" />
    <link rel="prev" title="TVM Community Guidelines" href="community.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    
<header class="header">
    <div class="innercontainer">
      <div class="headerInner d-flex justify-content-between align-items-center">
          <div class="headerLogo">
               <a href="https://tvm.apache.org/"><img src=https://tvm.apache.org/assets/images/logo.svg alt="logo"></a>
          </div>

          <div id="headMenu" class="headerNav">
            <button type="button" id="closeHeadMenu" class="navCloseBtn"><img src="../_static/img/close-icon.svg" alt="Close"></button>
             <ul class="nav">
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/community>Community</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/download>Download</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/blog>Blog</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/docs>Docs</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvmconf.org>Conference</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://github.com/apache/tvm/>Github</a>
                </li>
             </ul>
               <div class="responsivetlcdropdown">
                 <button type="button" class="btn-link">
                   ASF
                 </button>
                 <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/security/>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                 </ul>
               </div>
          </div>
            <div class="responsiveMenuIcon">
              <button type="button" id="menuBtn" class="btn-menu"><img src="../_static/img/menu-icon.svg" alt="Menu Icon"></button>
            </div>

            <div class="tlcDropdown">
              <div class="dropdown">
                <button type="button" class="btn-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  ASF
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                  <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/security/>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                  </ul>
                </div>
              </div>
          </div>
       </div>
    </div>
 </header>
 
    <nav data-toggle="wy-nav-shift" class="wy-nav-side fixed">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <input type="checkbox" class="version-toggle-box" hidden id="version-toggle">
              <label for="version-toggle" class="version-toggle-label">
                  <div tabindex="0" class="version version-selector version-selector-show">
                    0.10.0 <span class="chevron versions-hidden"><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m8 4 8 8-8 8" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></span><span class="chevron versions-shown"><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m4 8 8 8 8-8" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></span>
                  </div>
                </label>
                <div class="version-details wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                  <p class="caption" role="heading"><span class="caption-text">Versions</span></p>
                  <ol style="text-align: left">
                    
                    
                    
                    
                      <li><div class="version"><a style="font-size: 0.8em; padding: 4px" href="/">0.10.0 (main)</a></div></li>
                    
                    
                    
                    
                      <li><div class="version"><a style="font-size: 0.8em; padding: 4px" href="v0.8.0/">v0.8.0</a></div></li>
                    
                    
                    
                    
                      <li><div class="version"><a style="font-size: 0.8em; padding: 4px" href="v0.9.0/">v0.9.0</a></div></li>
                    
                  </ol>
                </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installing TVM</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributor Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="community.html">TVM Community Guidelines</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Submit a Pull Request</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#guidelines">Guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commit-message-guideline">Commit Message Guideline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ci-environment">CI Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testing">Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker-recommended">Docker (recommended)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-local">C++ (local)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-local">Python (local)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="code_review.html">Code Reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="committer_guide.html">Committer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="document.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_guide.html">Code Guide and Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_howto.html">Git Usage Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="ci.html">Using TVM’s CI</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="error_handling.html">Error Handling Guide</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">User Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How To Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/tutorial/index.html">Developer Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/how_to/how_to.html">Developer How-To Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture  Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">Design and Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Topic Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topic/microtvm/index.html">microTVM: TVM on bare-metal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topic/vta/index.html">VTA: Versatile Tensor Accelerator</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/langref/index.html">Language Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api/python/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api/links.html">Other APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      
      <nav class="wy-nav-top" aria-label="top navigation" data-toggle="wy-nav-top">
        
            <div class="togglemenu">

            </div>
            <div class="nav-content">
              <!-- tvm -->
              Table of Contents
            </div>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        

          




















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> <span class="br-arrow">></span></li>
        
          <li><a href="index.html">Contributor Guide</a> <span class="br-arrow">></span></li>
        
      <li>Submit a Pull Request</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/contribute/pull_request.rst.txt" rel="nofollow"> <img src="../_static/img/source.svg" alt="viewsource"/></a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="submit-a-pull-request">
<h1>Submit a Pull Request<a class="headerlink" href="#submit-a-pull-request" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#guidelines" id="id1">Guidelines</a></p></li>
<li><p><a class="reference internal" href="#commit-message-guideline" id="id2">Commit Message Guideline</a></p></li>
<li><p><a class="reference internal" href="#ci-environment" id="id3">CI Environment</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id4">Testing</a></p>
<ul>
<li><p><a class="reference internal" href="#docker-recommended" id="id5">Docker (recommended)</a></p></li>
<li><p><a class="reference internal" href="#c-local" id="id6">C++ (local)</a></p></li>
<li><p><a class="reference internal" href="#python-local" id="id7">Python (local)</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="guidelines">
<h2><a class="toc-backref" href="#id1">Guidelines</a><a class="headerlink" href="#guidelines" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>We recommend authors send well scoped PRs that are easy to review and revert in case there is a problem. As such, authors should avoid merging multiple unrelated changes into a single PR</p></li>
<li><p>Before you submit a PR, please rebase your code on the most recent version of <code class="docutils literal notranslate"><span class="pre">main</span></code>, you can do it by
running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git remote add upstream <span class="o">[</span>url to tvm repo<span class="o">]</span>
git fetch upstream
git rebase upstream/main
</pre></div>
</div>
</li>
<li><p>Make sure code passes lint checks</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># While the lint commands used should be identical to those run in CI, this command reproduces</span>
<span class="c1"># the CI lint procedure exactly (typically helpful for debugging lint script errors or</span>
<span class="c1"># to avoid installing tools manually)</span>
python tests/scripts/ci.py lint

<span class="c1"># Run all lint steps.</span>
docker/lint.sh

<span class="c1"># To run steps individually, specify their step names on the command-line. An incorrectly</span>
<span class="c1"># spelled step name causes the tool to print all available steps.</span>
docker/lint.sh &lt;step_name&gt; ...
</pre></div>
</div>
<p>If the clang-format lint check fails, run git-clang-format as follows to automatically reformat
your code:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run clang-format check for all the files that changed since upstream/main</span>
docker/bash.sh ci_lint ./tests/lint/git-clang-format.sh upstream/main
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Add test-cases to cover the new features or bugfix the patch introduces.</p></li>
<li><p>Document the code you wrote, see more at <a class="reference internal" href="document.html#doc-guide"><span class="std std-ref">Documentation</span></a></p></li>
<li><p><a class="reference external" href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request">Create a pull request</a> and fix the problems reported by CI checks.</p></li>
<li><p>Request code reviews from other contributors and improve your patch according
to their reviews by <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>-ing them in your pull request. Tags in PR titles
will automatically tag subscribed users, so make sure to put relevant topics
in your PR titles (e.g. <code class="docutils literal notranslate"><span class="pre">[microTVM]</span> <span class="pre">Add</span> <span class="pre">a</span> <span class="pre">cool</span> <span class="pre">change</span></code> and not <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">cool</span> <span class="pre">change</span> <span class="pre">for</span> <span class="pre">microTVM</span></code>).
Please see the Commit Message Guideline below on the guidelines about the tags
in a PR/commit title and how to write good PR/commit messages.</p>
<ul class="simple">
<li><p>To get your code reviewed quickly, we encourage you to help review others’ code so they can do the favor in return.</p></li>
<li><p>Code review is a shepherding process that helps to improve contributor’s code quality.
We should treat it proactively, to improve the code as much as possible before the review.
We highly value patches that can get in without extensive reviews.</p></li>
<li><p>The detailed guidelines and summarizes useful lessons.</p></li>
</ul>
</li>
<li><p>The PR can be merged after the reviewers approve the pull request.</p></li>
</ul>
</div>
<div class="section" id="commit-message-guideline">
<h2><a class="toc-backref" href="#id2">Commit Message Guideline</a><a class="headerlink" href="#commit-message-guideline" title="Permalink to this headline">¶</a></h2>
<p>Apache TVM uses the Github (GH) platform for patch submission and code review
via Pull Requests (PRs). The final commit (title and body) that is merged into
the Apache TVM main tree is composed of the PR’s title and body and must be kept
updated and reflecting the new changes in the code as per the reviews and
discussions.</p>
<p>Although these guidelines apply essentially to the PRs’ title and body messages,
because GH auto-generates the PR’s title and body from the commits on a given
branch, it’s recommended to follow these guidelines right from the beginning,
when preparing commits in general to be submitted to the Apache TVM project.
This will ease the creation of a new PR, avoiding rework, and also will help the
review.</p>
<p>The rules below will help to achieve uniformity that has several benefits, both
for review and for the code base maintenance as a whole, helping you to write
commit messages with a good quality suitable for the Apache TVM project,
allowing fast log searches, bisecting, and so on.</p>
<p><em>PR/commit title</em>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Guarantee a title exists (enforced);</p></li>
<li><p>Don’t use Github usernames in the title, like &#64;username (enforced);</p></li>
<li><p>A tag must be present as a hint about what component(s) of the code
the PRs / commits “touch” (enforced). For example [BugFix], [CI], [microTVM],
and [TVMC]. Tags go between square brackets and appear first in the title. If
more than one tag exist, multiple brackets should be used, like [BugFix][CI].
The case recommended for tags, in geral, is the upper camel case. For example,
prefer the forms [Fix], [BugFix], and [Docker] instead of [fix], [bug_fix],
and [docker]. Acronyms should be kept as such so, for example, use [CI] and
[TVMC] instead of [ci] and [tvmc]. Tags help reviewers to identify the PRs
they can/want to review and also help the release folks when generating the
release notes;</p></li>
<li><p>Use an imperative mood. Avoid titles like “Added operator X” and “Updated
image Y in the CI”, instead use the forms “Add feature X” and “Update image Y
in the CI” instead;</p></li>
<li><p>Observe proper use of caps at the beginning (uppercase for the first letter)
and for acronyms, like, for instance, TVM, FVP, OpenCL. Hence instead of
“fix tvm use of opencl library”, write it as “Fix TVM use of OpenCL library”;</p></li>
<li><p>Do not put a period at the end of the title.</p></li>
</ul>
</div></blockquote>
<p><em>PR/commit body</em>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Guarantee a body exists (enforced);</p></li>
<li><p>Don’t use Github usernames in body text, like &#64;username (enforced);</p></li>
<li><p>Avoid “bullet” commit message bodies: “bullet” commit message bodies are not
bad per se, but “bullet” commit messages without any description or
explanation is likely as bad as commits without any description, rationale,
or explanation in the body.</p></li>
</ul>
</div></blockquote>
<p>For minor deviations from these guidelines, the community will normally favor
reminding the contributor of this policy over reverting or blocking a commmit /
PR.</p>
<p>Commits and PRs without a title and/or a body are not considered minor
deviations from these guidelines and hence must be avoided.</p>
<p>Most importantly, the contents of the commit message, especially the body,
should be written to convey the intention of the change, so it should avoid
being vague. For example, commits with a title like “Fix”, “Cleanup”, and
“Fix flaky test” and without any body text should be avoided. Also, for the
review, it will leave the reviewer wondering about what exactly was fixed or
changed and why the change is necessary, slowing the review.</p>
<p>Below is an example that can be used as a model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[microTVM] Zephyr: Remove zephyr_board option from build, flash, and open_transport methods

Currently it’s necessary to pass the board type via ‘zephyr_board’ option to
the Project API build, flash, and open_transport methods.

However, since the board type is already configured when the project is
created (i.e. when the generate_project method is called), it’s possible to
avoid this redundancy by obtaining the board type from the project
configuration files.

This commit adds code to obtain the board type from the project CMake files,
removing this option from build, flash, and open_transport methods, so it’s
only necessary to specify the ‘zephyr_board’ option when calling
generate_project.

This commit also moves the ‘verbose’ and ‘west_cmd’ options from ‘build’
method to ‘generate_project’, reducing further the number of required options
when building a project, since the ‘build’ method is usually called more often
than the ‘generate_project’.
</pre></div>
</div>
<p>After a new PR is created and the review starts it’s common that reviewers will
request changes. Usually the author will address the reviewers’ comments and
push additional commits on top of the initial ones. For these additional commits
there is no recommendation regarding the commit messages. However if the
additional commits render the PR title and/or body outdated then it’s the
author’s responsibility to keep the PR title and body in sync with new changes
in the code and updated the PR title and body accordingly (remember that the PR
title and body will be used to compose the final commit message that will land
in the main tree).</p>
<p>Committers will seek to fix any issues with the commit message prior to
committing but they retain the right to inform the author of the rules and
encourage them to follow them in future. Also, they retain the right to ask to
the author to update the PR title and/or body when they are not correctly
updated or fixed.</p>
</div>
<div class="section" id="ci-environment">
<h2><a class="toc-backref" href="#id3">CI Environment</a><a class="headerlink" href="#ci-environment" title="Permalink to this headline">¶</a></h2>
<p>We use Docker images to create stable CI environments that can be deployed to multiple machines.
Follow the steps in <a class="reference external" href="https://github.com/apache/tvm/issues/new?assignees=&amp;labels=&amp;template=ci-image.md&amp;title=%5BCI+Image%5D+">this issue template</a>
to update a CI Docker image.</p>
</div>
<div class="section" id="testing">
<span id="pr-testing"></span><h2><a class="toc-backref" href="#id4">Testing</a><a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Even though we have hooks to run unit tests automatically for each pull request, it’s always recommended to run unit tests
locally beforehand to reduce reviewers’ burden and speedup review process.</p>
<div class="section" id="docker-recommended">
<h3><a class="toc-backref" href="#id5">Docker (recommended)</a><a class="headerlink" href="#docker-recommended" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">tests/scripts/ci.py</span></code> replicates the CI environment locally and provides a user-friendly interface.
The same Docker images and scripts used in CI are used directly to run tests. It also deposits builds
in different folders so you can maintain multiple test environments without rebuilding from scratch
each time (e.g. you can test a change in CPU and i386 while retaining incremental rebuilds).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># see all available platforms</span>
python tests/scripts/ci.py --help
python tests/scripts/ci.py cpu --help

<span class="c1"># run the CPU build in the ci_cpu docker container (build will be left in</span>
<span class="c1"># the build-cpu/ folder)</span>
<span class="c1"># note: the CPU and GPU Docker images are quite large and may take some</span>
<span class="c1"># time to download on their first use</span>
python tests/scripts/ci.py cpu

<span class="c1"># run the CPU build in the ci_cpu docker container and then run unittests</span>
python tests/scripts/ci.py cpu --unittest

<span class="c1"># quickly iterate by running a specific test and skipping the rebuild each time</span>
python tests/scripts/ci.py cpu --skip-build --tests tests/python/unittest/test_tir_transform_inject_rolling_buffer.py::test_upscale

<span class="c1"># run the CPU build and drop into a shell in the container</span>
python tests/scripts/ci.py cpu --interactive
</pre></div>
</div>
<p>We regularly update our docker images and, over time, stale images may unnecessarily consume disk
space. You can remove stale images that aren’t used in the presently checked-out branch plus any
other worktrees using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker/clear-stale-images.sh
</pre></div>
</div>
<p>Consult the <code class="docutils literal notranslate"><span class="pre">--help</span></code> for more options.</p>
</div>
<div class="section" id="c-local">
<h3><a class="toc-backref" href="#id6">C++ (local)</a><a class="headerlink" href="#c-local" title="Permalink to this headline">¶</a></h3>
<p>Running the C++ tests requires installation of gtest, following the instructions in
<a class="reference internal" href="../install/from_source.html#install-from-source-cpp-tests"><span class="std std-ref">Enable C++ Tests</span></a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># assume you are in tvm source root</span>
<span class="nv">TVM_ROOT</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>

./tests/scripts/task_cpp_unittest.sh
</pre></div>
</div>
</div>
<div class="section" id="python-local">
<h3><a class="toc-backref" href="#id7">Python (local)</a><a class="headerlink" href="#python-local" title="Permalink to this headline">¶</a></h3>
<p>Necessary dependencies:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --user pytest Cython synr
</pre></div>
</div>
<p>If you want to run all tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># build tvm</span>
make

./tests/scripts/task_python_unittest.sh
</pre></div>
</div>
<p>If you want to run a single test:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># build tvm</span>
make

<span class="c1"># let python know where to find tvm related libraries</span>
<span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span>python
rm -rf python/tvm/*.pyc python/tvm/*/*.pyc python/tvm/*/*/*.pyc

<span class="nv">TVM_FFI</span><span class="o">=</span>ctypes python -m pytest -v tests/python/unittest/test_pass_storage_rewrite.py

<span class="c1"># Additionally if you want to run a single test, for example test_all_elemwise inside a file.</span>
<span class="nv">TVM_FFI</span><span class="o">=</span>ctypes python -m pytest -v -k <span class="s2">&quot;test_all_elemwise&quot;</span> tests/python/frontend/tflite/test_forward.py
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          

<footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="code_review.html" class="btn btn-neutral float-right" title="Code Reviews" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="community.html" class="btn btn-neutral float-left" title="TVM Community Guidelines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>

<div id="button" class="backtop"><img src="../_static/img/right.svg" alt="backtop"/> </div>
<section class="footerSec">
    <div class="footerHeader">
      <div class="d-flex align-md-items-center justify-content-between flex-column flex-md-row">
        <div class="copywrite d-flex align-items-center">
          <h5 id="copy-right-info">© 2022 Apache Software Foundation | All rights reserved</h5>
        </div>
      </div>

    </div>

    <div>
      <div class="footernote">Copyright © 2022 The Apache Software Foundation. Apache TVM, Apache, the Apache feather, and the Apache TVM project logo are either trademarks or registered trademarks of the Apache Software Foundation.</div>
    </div>

</section>
</footer>
        </div>
      </div>

    </section>

  </div>
  

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </body>
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>