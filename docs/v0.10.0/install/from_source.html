





<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install from Source &mdash; tvm 0.10.0 documentation</title>
  

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/tlcpack_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/tvm-logo-square.png"/>
  

  
  
  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <script type="text/javascript" src="../_static/js/tlcpack_theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NNPACK Contrib Installation" href="nnpack.html" />
    <link rel="prev" title="Installing TVM" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    
<header class="header">
    <div class="innercontainer">
      <div class="headerInner d-flex justify-content-between align-items-center">
          <div class="headerLogo">
               <a href="https://tvm.apache.org/"><img src=https://tvm.apache.org/assets/images/logo.svg alt="logo"></a>
          </div>

          <div id="headMenu" class="headerNav">
            <button type="button" id="closeHeadMenu" class="navCloseBtn"><img src="../_static/img/close-icon.svg" alt="Close"></button>
             <ul class="nav">
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/community>Community</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/download>Download</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/blog>Blog</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/docs>Docs</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvmconf.org>Conference</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://github.com/apache/tvm/>Github</a>
                </li>
             </ul>
               <div class="responsivetlcdropdown">
                 <button type="button" class="btn-link">
                   ASF
                 </button>
                 <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/security/>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                 </ul>
               </div>
          </div>
            <div class="responsiveMenuIcon">
              <button type="button" id="menuBtn" class="btn-menu"><img src="../_static/img/menu-icon.svg" alt="Menu Icon"></button>
            </div>

            <div class="tlcDropdown">
              <div class="dropdown">
                <button type="button" class="btn-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  ASF
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                  <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/security/>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                  </ul>
                </div>
              </div>
          </div>
       </div>
    </div>
 </header>
 
    <nav data-toggle="wy-nav-shift" class="wy-nav-side fixed">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <input type="checkbox" class="version-toggle-box" hidden id="version-toggle">
              <label for="version-toggle" class="version-toggle-label">
                  <div tabindex="0" class="version version-selector version-selector-show">
                    0.10.0 <span class="chevron versions-hidden"><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m8 4 8 8-8 8" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></span><span class="chevron versions-shown"><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m4 8 8 8 8-8" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></span>
                  </div>
                </label>
                <div class="version-details wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                  <p class="caption" role="heading"><span class="caption-text">Versions</span></p>
                  <ol style="text-align: left">
                    
                    
                    
                    
                      <li><div class="version"><a style="font-size: 0.8em; padding: 4px" href="/">0.10.0 (main)</a></div></li>
                    
                    
                    
                    
                      <li><div class="version"><a style="font-size: 0.8em; padding: 4px" href="v0.8.0/">v0.8.0</a></div></li>
                    
                    
                    
                    
                      <li><div class="version"><a style="font-size: 0.8em; padding: 4px" href="v0.9.0/">v0.9.0</a></div></li>
                    
                  </ol>
                </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installing TVM</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Install from Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#developers-get-source-from-github">Developers: Get Source from Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-the-shared-library">Build the Shared Library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-with-a-conda-environment">Building with a Conda Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-on-windows">Building on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-rocm-support">Building ROCm support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#python-package-installation">Python Package Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tvm-package">TVM package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-dependencies">Python dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#install-contrib-libraries">Install Contrib Libraries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nnpack.html">NNPACK Contrib Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#enable-c-tests">Enable C++ Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="nnpack.html">NNPACK Contrib Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributor Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">User Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How To Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/tutorial/index.html">Developer Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/how_to/how_to.html">Developer How-To Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture  Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">Design and Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Topic Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topic/microtvm/index.html">microTVM: TVM on bare-metal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topic/vta/index.html">VTA: Versatile Tensor Accelerator</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/langref/index.html">Language Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api/python/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api/links.html">Other APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      
      <nav class="wy-nav-top" aria-label="top navigation" data-toggle="wy-nav-top">
        
            <div class="togglemenu">

            </div>
            <div class="nav-content">
              <!-- tvm -->
              Table of Contents
            </div>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        

          




















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> <span class="br-arrow">></span></li>
        
          <li><a href="index.html">Installing TVM</a> <span class="br-arrow">></span></li>
        
      <li>Install from Source</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/install/from_source.rst.txt" rel="nofollow"> <img src="../_static/img/source.svg" alt="viewsource"/></a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="install-from-source">
<span id="id1"></span><h1>Install from Source<a class="headerlink" href="#install-from-source" title="Permalink to this headline">¶</a></h1>
<p>This page gives instructions on how to build and install the TVM package from
scratch on various systems. It consists of two steps:</p>
<ol class="arabic simple">
<li><p>First build the shared library from the C++ codes (<cite>libtvm.so</cite> for linux, <cite>libtvm.dylib</cite> for macOS and <cite>libtvm.dll</cite> for windows).</p></li>
<li><p>Setup for the language packages (e.g. Python Package).</p></li>
</ol>
<p>To get started, download tvm source code from the <a class="reference external" href="https://tvm.apache.org/download">Download Page</a>.</p>
<div class="section" id="developers-get-source-from-github">
<h2>Developers: Get Source from Github<a class="headerlink" href="#developers-get-source-from-github" title="Permalink to this headline">¶</a></h2>
<p>You can also choose to clone the source repo from github.
It is important to clone the submodules along, with <code class="docutils literal notranslate"><span class="pre">--recursive</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone --recursive https://github.com/apache/tvm tvm
</pre></div>
</div>
<p>For windows users who use github tools, you can open the git shell, and type the following command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git submodule init
git submodule update
</pre></div>
</div>
</div>
<div class="section" id="build-the-shared-library">
<span id="build-shared-library"></span><h2>Build the Shared Library<a class="headerlink" href="#build-the-shared-library" title="Permalink to this headline">¶</a></h2>
<p>Our goal is to build the shared libraries:</p>
<blockquote>
<div><ul class="simple">
<li><p>On Linux the target library are <cite>libtvm.so</cite> and <cite>libtvm_runtime.so</cite></p></li>
<li><p>On macOS the target library are <cite>libtvm.dylib</cite> and <cite>libtvm_runtime.dylib</cite></p></li>
<li><p>On Windows the target library are <cite>libtvm.dll</cite> and <cite>libtvm_runtime.dll</cite></p></li>
</ul>
</div></blockquote>
<p>It is also possible to <a class="reference internal" href="../how_to/deploy/index.html#deploy-and-integration"><span class="std std-ref">build the runtime</span></a> library only.</p>
<p>The minimal building requirements for the <code class="docutils literal notranslate"><span class="pre">TVM</span></code> libraries are:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>A recent C++ compiler supporting C++ 17, at the minimum</dt><dd><ul>
<li><p>GCC 7.1</p></li>
<li><p>Clang 5.0</p></li>
<li><p>Apple Clang 9.3</p></li>
<li><p>Visual Studio 2019 (v16.7)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>CMake 3.10 or higher</p></li>
<li><p>We highly recommend to build with LLVM to enable all the features.</p></li>
<li><p>If you want to use CUDA, CUDA toolkit version &gt;= 8.0 is required. If you are upgrading from an older version, make sure you purge the older version and reboot after installation.</p></li>
<li><p>On macOS, you may want to install <a class="reference external" href="https://brew.sh">Homebrew</a> to easily install and manage dependencies.</p></li>
<li><p>Python is also required. Avoid using Python 3.9.X+ which is not <a class="reference external" href="https://github.com/apache/tvm/issues/8577">supported</a>. 3.7.X+ and 3.8.X+ should be well supported however.</p></li>
</ul>
</div></blockquote>
<p>To install the these minimal pre-requisites on Ubuntu/Debian like
linux operating systems, execute (in a terminal):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get update
sudo apt-get install -y python3 python3-dev python3-setuptools gcc libtinfo-dev zlib1g-dev build-essential cmake libedit-dev libxml2-dev
</pre></div>
</div>
<p>Use Homebrew to install the required dependencies for macOS running either the Intel or M1 processors. You must follow the post-installation steps specified by
Homebrew to ensure the dependencies are correctly installed and configured:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew install gcc git cmake
brew install llvm
brew install python@3.8
</pre></div>
</div>
<p>If you are on macOS with an M1 Processor you may need to use conda to manage dependencies while building. Specifically you may need, <a class="reference external" href="https://github.com/conda-forge/miniforge">Miniforge</a> to ensure that the dependencies obtained using pip are compatible with M1.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew install miniforge
conda init
conda create --name tvm <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.8
conda activate tvm
</pre></div>
</div>
<p>We use cmake to build the library.
The configuration of TVM can be modified by editing <cite>config.cmake</cite> and/or by passing cmake flags to the command line:</p>
<ul>
<li><p>First, check the cmake in your system. If you do not have cmake,
you can obtain the latest version from <a class="reference external" href="https://cmake.org/download/">official website</a></p></li>
<li><p>First create a build directory, copy the <code class="docutils literal notranslate"><span class="pre">cmake/config.cmake</span></code> to the directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build
cp cmake/config.cmake build
</pre></div>
</div>
</li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">build/config.cmake</span></code> to customize the compilation options</p>
<ul>
<li><p>On macOS, for some versions of Xcode, you need to add <code class="docutils literal notranslate"><span class="pre">-lc++abi</span></code> in the LDFLAGS or you’ll get link errors.</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">set(USE_CUDA</span> <span class="pre">OFF)</span></code> to <code class="docutils literal notranslate"><span class="pre">set(USE_CUDA</span> <span class="pre">ON)</span></code> to enable CUDA backend. Do the same for other backends and libraries
you want to build for (OpenCL, RCOM, METAL, VULKAN, …).</p></li>
<li><p>To help with debugging, ensure the embedded graph executor and debugging functions are enabled with <code class="docutils literal notranslate"><span class="pre">set(USE_GRAPH_EXECUTOR</span> <span class="pre">ON)</span></code> and <code class="docutils literal notranslate"><span class="pre">set(USE_PROFILER</span> <span class="pre">ON)</span></code></p></li>
<li><p>To debug with IRs, <code class="docutils literal notranslate"><span class="pre">set(USE_RELAY_DEBUG</span> <span class="pre">ON)</span></code> and set environment variable <cite>TVM_LOG_DEBUG</cite>.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">TVM_LOG_DEBUG</span><span class="o">=</span><span class="s2">&quot;ir/transform.cc=1,relay/ir/transform.cc=1&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</li>
<li><p>TVM requires LLVM for CPU codegen. We highly recommend you to build with the LLVM support on.</p>
<ul class="simple">
<li><p>LLVM 4.0 or higher is needed for build with LLVM. Note that version of LLVM from default apt may lower than 4.0.</p></li>
<li><p>Since LLVM takes long time to build from source, you can download pre-built version of LLVM from
<a class="reference external" href="http://releases.llvm.org/download.html">LLVM Download Page</a>.</p>
<ul>
<li><p>Unzip to a certain location, modify <code class="docutils literal notranslate"><span class="pre">build/config.cmake</span></code> to add <code class="docutils literal notranslate"><span class="pre">set(USE_LLVM</span> <span class="pre">/path/to/your/llvm/bin/llvm-config)</span></code></p></li>
<li><p>You can also directly set <code class="docutils literal notranslate"><span class="pre">set(USE_LLVM</span> <span class="pre">ON)</span></code> and let cmake search for a usable version of LLVM.</p></li>
</ul>
</li>
<li><p>You can also use <a class="reference external" href="https://apt.llvm.org/">LLVM Nightly Ubuntu Build</a></p>
<ul>
<li><p>Note that apt-package append <code class="docutils literal notranslate"><span class="pre">llvm-config</span></code> with version number.
For example, set <code class="docutils literal notranslate"><span class="pre">set(USE_LLVM</span> <span class="pre">llvm-config-10)</span></code> if you installed LLVM 10 package</p></li>
</ul>
</li>
<li><p>If you are a PyTorch user, it is recommended to set <code class="docutils literal notranslate"><span class="pre">(USE_LLVM</span> <span class="pre">&quot;/path/to/llvm-config</span> <span class="pre">--link-static&quot;)</span></code> and <code class="docutils literal notranslate"><span class="pre">set(HIDE_PRIVATE_SYMBOLS</span> <span class="pre">ON)</span></code>
to avoid potential symbol conflicts between different versions LLVM used by TVM and PyTorch.</p></li>
<li><p>On supported platforms, the <a class="reference external" href="https://ccache.dev/">Ccache compiler wrapper</a> may be helpful for
reducing TVM’s build time.  There are several ways to enable CCache in TVM builds:</p>
<ul>
<li><p>Ccache’s Masquerade mode. This is typically enabled during the Ccache installation process.
To have TVM use Ccache in masquerade, simply specify the appropriate C/C++ compiler
paths when configuring TVM’s build system.  For example:
<code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">-DCMAKE_CXX_COMPILER=/usr/lib/ccache/c++</span> <span class="pre">...</span></code>.</p></li>
<li><p>Ccache as CMake’s C++ compiler prefix.  When configuring TVM’s build system,
set the CMake variable <code class="docutils literal notranslate"><span class="pre">CMAKE_CXX_COMPILER_LAUNCHER</span></code> to an appropriate value.
E.g. <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">-DCMAKE_CXX_COMPILER_LAUNCHER=ccache</span> <span class="pre">...</span></code>.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>We can then build tvm and related libraries.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake ..
make -j4
</pre></div>
</div>
<ul class="simple">
<li><p>You can also use Ninja build system instead of Unix Makefiles. It can be faster to build than using Makefiles.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> build
cmake .. -G Ninja
ninja
</pre></div>
</div>
<ul>
<li><p>There is also a makefile in the top-level tvm directory that can
automate several of these steps.  It will create the build
directory, copy the default <code class="docutils literal notranslate"><span class="pre">config.cmake</span></code> to the build
directory, run cmake, then run make.</p>
<p>The build directory can be specified using the environment
variable <code class="docutils literal notranslate"><span class="pre">TVM_BUILD_PATH</span></code>.  If <code class="docutils literal notranslate"><span class="pre">TVM_BUILD_PATH</span></code> is unset, the
makefile assumes that the <code class="docutils literal notranslate"><span class="pre">build</span></code> directory inside tvm should be
used.  Paths specified by <code class="docutils literal notranslate"><span class="pre">TVM_BUILD_PATH</span></code> can be either
absolute paths or paths relative to the base tvm directory.
<code class="docutils literal notranslate"><span class="pre">TVM_BUILD_PATH</span></code> can also be set to a list of space-separated
paths, in which case all paths listed will be built.</p>
<p>If an alternate build directory is used, then the environment
variable <code class="docutils literal notranslate"><span class="pre">TVM_LIBRARY_PATH</span></code> should be set at runtime, pointing
to the location of the compiled <code class="docutils literal notranslate"><span class="pre">libtvm.so</span></code> and
<code class="docutils literal notranslate"><span class="pre">libtvm_runtime.so</span></code>.  If not set, tvm will look relative to the
location of the tvm python module.  Unlike <code class="docutils literal notranslate"><span class="pre">TVM_BUILD_PATH</span></code>,
this must be an absolute path.</p>
</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build in the &quot;build&quot; directory</span>
make

<span class="c1"># Alternate location, &quot;build_debug&quot;</span>
<span class="nv">TVM_BUILD_PATH</span><span class="o">=</span>build_debug make

<span class="c1"># Build both &quot;build_release&quot; and &quot;build_debug&quot;</span>
<span class="nv">TVM_BUILD_PATH</span><span class="o">=</span><span class="s2">&quot;build_debug build_release&quot;</span> make

<span class="c1"># Use debug build</span>
<span class="nv">TVM_LIBRARY_PATH</span><span class="o">=</span>~/tvm/build_debug python3
</pre></div>
</div>
</li>
</ul>
<p>If everything goes well, we can go to <a class="reference internal" href="#python-package-installation"><span class="std std-ref">Python Package Installation</span></a></p>
<div class="section" id="building-with-a-conda-environment">
<span id="build-with-conda"></span><h3>Building with a Conda Environment<a class="headerlink" href="#building-with-a-conda-environment" title="Permalink to this headline">¶</a></h3>
<p>Conda is a very handy way to the necessary obtain dependencies needed for running TVM.
First, follow the <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/">conda’s installation guide</a>
to install miniconda or anaconda if you do not yet have conda in your system. Run the following command in a conda environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a conda environment with the dependencies specified by the yaml</span>
conda env create --file conda/build-environment.yaml
<span class="c1"># Activate the created environment</span>
conda activate tvm-build
</pre></div>
</div>
<p>The above command will install all necessary build dependencies such as cmake and LLVM. You can then run the standard build process in the last section.</p>
<p>If you want to use the compiled binary outside the conda environment,
you can set LLVM to static linking mode <code class="docutils literal notranslate"><span class="pre">set(USE_LLVM</span> <span class="pre">&quot;llvm-config</span> <span class="pre">--link-static&quot;)</span></code>.
In this way, the resulting library won’t depend on the dynamic LLVM libraries in the conda environment.</p>
<p>The above instructions show how to use conda to provide the necessary build dependencies to build libtvm.
If you are already using conda as your package manager and wish to directly build and install tvm as a conda package, you can follow the instructions below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda build --output-folder<span class="o">=</span>conda/pkg  conda/recipe
<span class="c1"># Run conda/build_cuda.sh to build with cuda enabled</span>
conda install tvm -c ./conda/pkg
</pre></div>
</div>
</div>
<div class="section" id="building-on-windows">
<h3>Building on Windows<a class="headerlink" href="#building-on-windows" title="Permalink to this headline">¶</a></h3>
<p>TVM support build via MSVC using cmake. You will need to ontain a visual studio compiler.
The minimum required VS version is <strong>Visual Studio Enterprise 2019</strong> (NOTE: we test
against GitHub Actions’ <a class="reference external" href="https://github.com/actions/virtual-environments/blob/main/images/win/Windows2019-Readme.md">Windows 2019 Runner</a>, so see that page for full details.
We recommend following <a class="reference internal" href="#build-with-conda"><span class="std std-ref">Building with a Conda Environment</span></a> to obtain necessary dependencies and
get an activated tvm-build environment. Then you can run the following command to build</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build
<span class="nb">cd</span> build
cmake -A x64 -Thost<span class="o">=</span>x64 ..
<span class="nb">cd</span> ..
</pre></div>
</div>
<p>The above command generates the solution file under the build directory.
You can then run the following command to build</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake --build build --config Release -- /m
</pre></div>
</div>
</div>
<div class="section" id="building-rocm-support">
<h3>Building ROCm support<a class="headerlink" href="#building-rocm-support" title="Permalink to this headline">¶</a></h3>
<p>Currently, ROCm is supported only on linux, so all the instructions are written with linux in mind.</p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">set(USE_ROCM</span> <span class="pre">ON)</span></code>, set ROCM_PATH to the correct path.</p></li>
<li><p>You need to first install HIP runtime from ROCm. Make sure the installation system has ROCm installed in it.</p></li>
<li><p>Install latest stable version of LLVM (v6.0.1), and LLD, make sure <code class="docutils literal notranslate"><span class="pre">ld.lld</span></code> is available via command line.</p></li>
</ul>
</div>
</div>
<div class="section" id="python-package-installation">
<span id="id2"></span><h2>Python Package Installation<a class="headerlink" href="#python-package-installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tvm-package">
<h3>TVM package<a class="headerlink" href="#tvm-package" title="Permalink to this headline">¶</a></h3>
<p>Depending on your development environment, you may want to use a virtual environment and package manager, such
as <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> or <code class="docutils literal notranslate"><span class="pre">conda</span></code>, to manage your python packages and dependencies.</p>
<p>The python package is located at <cite>tvm/python</cite>
There are two ways to install the package:</p>
<dl>
<dt>Method 1</dt><dd><p>This method is <strong>recommended for developers</strong> who may change the codes.</p>
<p>Set the environment variable <cite>PYTHONPATH</cite> to tell python where to find
the library. For example, assume we cloned <cite>tvm</cite> on the directory
<cite>/path/to/tvm</cite> then we can add the following line in <cite>~/.bashrc</cite>.
The changes will be immediately reflected once you pull the code and rebuild the project (no need to call <code class="docutils literal notranslate"><span class="pre">setup</span></code> again)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">TVM_HOME</span><span class="o">=</span>/path/to/tvm
<span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nv">$TVM_HOME</span>/python:<span class="si">${</span><span class="nv">PYTHONPATH</span><span class="si">}</span>
</pre></div>
</div>
</dd>
<dt>Method 2</dt><dd><p>Install TVM python bindings by <cite>setup.py</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install tvm package for the current user</span>
<span class="c1"># NOTE: if you installed python via homebrew, --user is not needed during installaiton</span>
<span class="c1">#       it will be automatically installed to your user directory.</span>
<span class="c1">#       providing --user flag may trigger error during installation in such case.</span>
<span class="nb">export</span> <span class="nv">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="m">10</span>.9  <span class="c1"># This is required for mac to avoid symbol conflicts with libstdc++</span>
<span class="nb">cd</span> python<span class="p">;</span> python setup.py install --user<span class="p">;</span> <span class="nb">cd</span> ..
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="python-dependencies">
<h3>Python dependencies<a class="headerlink" href="#python-dependencies" title="Permalink to this headline">¶</a></h3>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">--user</span></code> flag is not necessary if you’re installing to a managed local environment,
like <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p>Necessary dependencies:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3 install --user numpy decorator attrs
</pre></div>
</div>
<ul class="simple">
<li><p>If you want to use RPC Tracker</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3 install --user tornado
</pre></div>
</div>
<ul class="simple">
<li><p>If you want to use auto-tuning module</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3 install --user tornado psutil <span class="s1">&#39;xgboost&lt;1.6.0&#39;</span> cloudpickle
</pre></div>
</div>
</div></blockquote>
<p>Note on M1 macs, you may have trouble installing xgboost / scipy. scipy and xgboost requires some additional dependencies to be installed,
including openblas and its dependencies. Use the following commands to install scipy and xgboost with the required dependencies and
configuration. A workaround for this is to do the following commands:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew install openblas gfortran

pip install pybind11 cython pythran

<span class="nb">export</span> <span class="nv">OPENBLAS</span><span class="o">=</span>/opt/homebrew/opt/openblas/lib/

pip install scipy --no-use-pep517

pip install <span class="s1">&#39;xgboost&lt;1.6.0&#39;</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="install-contrib-libraries">
<h2>Install Contrib Libraries<a class="headerlink" href="#install-contrib-libraries" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="nnpack.html">NNPACK Contrib Installation</a></li>
</ul>
</div>
</div>
<div class="section" id="enable-c-tests">
<span id="install-from-source-cpp-tests"></span><h2>Enable C++ Tests<a class="headerlink" href="#enable-c-tests" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="https://github.com/google/googletest">Google Test</a> to drive the C++
tests in TVM. The easiest way to install GTest is from source.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/google/googletest
<span class="nb">cd</span> googletest
mkdir build
<span class="nb">cd</span> build
cmake -DBUILD_SHARED_LIBS<span class="o">=</span>ON ..
make
sudo make install
</pre></div>
</div>
</div></blockquote>
<p>After installing GTest, the C++ tests can be built and started with <code class="docutils literal notranslate"><span class="pre">./tests/scripts/task_cpp_unittest.sh</span></code> or just built with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">cpptest</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          

<footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nnpack.html" class="btn btn-neutral float-right" title="NNPACK Contrib Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Installing TVM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>

<div id="button" class="backtop"><img src="../_static/img/right.svg" alt="backtop"/> </div>
<section class="footerSec">
    <div class="footerHeader">
      <div class="d-flex align-md-items-center justify-content-between flex-column flex-md-row">
        <div class="copywrite d-flex align-items-center">
          <h5 id="copy-right-info">© 2022 Apache Software Foundation | All rights reserved</h5>
        </div>
      </div>

    </div>

    <div>
      <div class="footernote">Copyright © 2022 The Apache Software Foundation. Apache TVM, Apache, the Apache feather, and the Apache TVM project logo are either trademarks or registered trademarks of the Apache Software Foundation.</div>
    </div>

</section>
</footer>
        </div>
      </div>

    </section>

  </div>
  

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </body>
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>